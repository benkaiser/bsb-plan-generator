(()=>{var Ne=Object.create;var te=Object.defineProperty;var Ue=Object.getOwnPropertyDescriptor;var Le=Object.getOwnPropertyNames;var $e=Object.getPrototypeOf,je=Object.prototype.hasOwnProperty;var Ct=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(s,o)=>(typeof require<"u"?require:s)[o]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Me=(t,s)=>()=>(s||t((s={exports:{}}).exports,s),s.exports);var We=(t,s,o,i)=>{if(s&&typeof s=="object"||typeof s=="function")for(let l of Le(s))!je.call(t,l)&&l!==o&&te(t,l,{get:()=>s[l],enumerable:!(i=Ue(s,l))||i.enumerable});return t};var He=(t,s,o)=>(o=t!=null?Ne($e(t)):{},We(s||!t||!t.__esModule?te(o,"default",{value:t,enumerable:!0}):o,t));var Fe=Me((Te,Xt)=>{(function(t){typeof Te=="object"&&typeof Xt<"u"?Xt.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=t()})(function(){return function t(s,o,i){function l(m,v){if(!o[m]){if(!s[m]){var d=typeof Ct=="function"&&Ct;if(!v&&d)return d(m,!0);if(r)return r(m,!0);var b=new Error("Cannot find module '"+m+"'");throw b.code="MODULE_NOT_FOUND",b}var n=o[m]={exports:{}};s[m][0].call(n.exports,function(p){var c=s[m][1][p];return l(c||p)},n,n.exports,t,s,o,i)}return o[m].exports}for(var r=typeof Ct=="function"&&Ct,h=0;h<i.length;h++)l(i[h]);return l}({1:[function(t,s,o){"use strict";var i=t("./utils"),l=t("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(h){for(var m,v,d,b,n,p,c,_=[],f=0,y=h.length,w=y,S=i.getTypeOf(h)!=="string";f<h.length;)w=y-f,d=S?(m=h[f++],v=f<y?h[f++]:0,f<y?h[f++]:0):(m=h.charCodeAt(f++),v=f<y?h.charCodeAt(f++):0,f<y?h.charCodeAt(f++):0),b=m>>2,n=(3&m)<<4|v>>4,p=1<w?(15&v)<<2|d>>6:64,c=2<w?63&d:64,_.push(r.charAt(b)+r.charAt(n)+r.charAt(p)+r.charAt(c));return _.join("")},o.decode=function(h){var m,v,d,b,n,p,c=0,_=0,f="data:";if(h.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var y,w=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===r.charAt(64)&&w--,h.charAt(h.length-2)===r.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=l.uint8array?new Uint8Array(0|w):new Array(0|w);c<h.length;)m=r.indexOf(h.charAt(c++))<<2|(b=r.indexOf(h.charAt(c++)))>>4,v=(15&b)<<4|(n=r.indexOf(h.charAt(c++)))>>2,d=(3&n)<<6|(p=r.indexOf(h.charAt(c++))),y[_++]=m,n!==64&&(y[_++]=v),p!==64&&(y[_++]=d);return y}},{"./support":30,"./utils":32}],2:[function(t,s,o){"use strict";var i=t("./external"),l=t("./stream/DataWorker"),r=t("./stream/Crc32Probe"),h=t("./stream/DataLengthProbe");function m(v,d,b,n,p){this.compressedSize=v,this.uncompressedSize=d,this.crc32=b,this.compression=n,this.compressedContent=p}m.prototype={getContentWorker:function(){var v=new l(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),d=this;return v.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new l(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(v,d,b){return v.pipe(new r).pipe(new h("uncompressedSize")).pipe(d.compressWorker(b)).pipe(new h("compressedSize")).withStreamInfo("compression",d)},s.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,s,o){"use strict";var i=t("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},o.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,s,o){"use strict";var i=t("./utils"),l=function(){for(var r,h=[],m=0;m<256;m++){r=m;for(var v=0;v<8;v++)r=1&r?3988292384^r>>>1:r>>>1;h[m]=r}return h}();s.exports=function(r,h){return r!==void 0&&r.length?i.getTypeOf(r)!=="string"?function(m,v,d,b){var n=l,p=b+d;m^=-1;for(var c=b;c<p;c++)m=m>>>8^n[255&(m^v[c])];return-1^m}(0|h,r,r.length,0):function(m,v,d,b){var n=l,p=b+d;m^=-1;for(var c=b;c<p;c++)m=m>>>8^n[255&(m^v.charCodeAt(c))];return-1^m}(0|h,r,r.length,0):0}},{"./utils":32}],5:[function(t,s,o){"use strict";o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(t,s,o){"use strict";var i=null;i=typeof Promise<"u"?Promise:t("lie"),s.exports={Promise:i}},{lie:37}],7:[function(t,s,o){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),r=t("./utils"),h=t("./stream/GenericWorker"),m=i?"uint8array":"array";function v(d,b){h.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=b,this.meta={}}o.magic="\b\0",r.inherits(v,h),v.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(m,d.data),!1)},v.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(b){d.push({data:b,meta:d.meta})}},o.compressWorker=function(d){return new v("Deflate",d)},o.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,s,o){"use strict";function i(n,p){var c,_="";for(c=0;c<p;c++)_+=String.fromCharCode(255&n),n>>>=8;return _}function l(n,p,c,_,f,y){var w,S,C=n.file,U=n.compression,R=y!==m.utf8encode,H=r.transformTo("string",y(C.name)),O=r.transformTo("string",m.utf8encode(C.name)),G=C.comment,q=r.transformTo("string",y(G)),k=r.transformTo("string",m.utf8encode(G)),I=O.length!==C.name.length,a=k.length!==G.length,j="",tt="",W="",rt=C.dir,$=C.date,V={crc32:0,compressedSize:0,uncompressedSize:0};p&&!c||(V.crc32=n.crc32,V.compressedSize=n.compressedSize,V.uncompressedSize=n.uncompressedSize);var T=0;p&&(T|=8),R||!I&&!a||(T|=2048);var z=0,X=0;rt&&(z|=16),f==="UNIX"?(X=798,z|=function(N,Y){var nt=N;return N||(nt=Y?16893:33204),(65535&nt)<<16}(C.unixPermissions,rt)):(X=20,z|=function(N){return 63&(N||0)}(C.dosPermissions)),w=$.getUTCHours(),w<<=6,w|=$.getUTCMinutes(),w<<=5,w|=$.getUTCSeconds()/2,S=$.getUTCFullYear()-1980,S<<=4,S|=$.getUTCMonth()+1,S<<=5,S|=$.getUTCDate(),I&&(tt=i(1,1)+i(v(H),4)+O,j+="up"+i(tt.length,2)+tt),a&&(W=i(1,1)+i(v(q),4)+k,j+="uc"+i(W.length,2)+W);var B="";return B+=`
\0`,B+=i(T,2),B+=U.magic,B+=i(w,2),B+=i(S,2),B+=i(V.crc32,4),B+=i(V.compressedSize,4),B+=i(V.uncompressedSize,4),B+=i(H.length,2),B+=i(j.length,2),{fileRecord:d.LOCAL_FILE_HEADER+B+H+j,dirRecord:d.CENTRAL_FILE_HEADER+i(X,2)+B+i(q.length,2)+"\0\0\0\0"+i(z,4)+i(_,4)+H+j+q}}var r=t("../utils"),h=t("../stream/GenericWorker"),m=t("../utf8"),v=t("../crc32"),d=t("../signature");function b(n,p,c,_){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=c,this.encodeFileName=_,this.streamFiles=n,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(b,h),b.prototype.push=function(n){var p=n.meta.percent||0,c=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(n):(this.bytesWritten+=n.data.length,h.prototype.push.call(this,{data:n.data,meta:{currentFile:this.currentFile,percent:c?(p+100*(c-_-1))/c:100}}))},b.prototype.openedSource=function(n){this.currentSourceOffset=this.bytesWritten,this.currentFile=n.file.name;var p=this.streamFiles&&!n.file.dir;if(p){var c=l(n,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(n){this.accumulate=!1;var p=this.streamFiles&&!n.file.dir,c=l(n,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),p)this.push({data:function(_){return d.DATA_DESCRIPTOR+i(_.crc32,4)+i(_.compressedSize,4)+i(_.uncompressedSize,4)}(n),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var n=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var c=this.bytesWritten-n,_=function(f,y,w,S,C){var U=r.transformTo("string",C(S));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(f,2)+i(f,2)+i(y,4)+i(w,4)+i(U.length,2)+U}(this.dirRecords.length,c,n,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(n){this._sources.push(n);var p=this;return n.on("data",function(c){p.processChunk(c)}),n.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),n.on("error",function(c){p.error(c)}),this},b.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(n){var p=this._sources;if(!h.prototype.error.call(this,n))return!1;for(var c=0;c<p.length;c++)try{p[c].error(n)}catch{}return!0},b.prototype.lock=function(){h.prototype.lock.call(this);for(var n=this._sources,p=0;p<n.length;p++)n[p].lock()},s.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,s,o){"use strict";var i=t("../compressions"),l=t("./ZipFileWorker");o.generateWorker=function(r,h,m){var v=new l(h.streamFiles,m,h.platform,h.encodeFileName),d=0;try{r.forEach(function(b,n){d++;var p=function(y,w){var S=y||w,C=i[S];if(!C)throw new Error(S+" is not a valid compression method !");return C}(n.options.compression,h.compression),c=n.options.compressionOptions||h.compressionOptions||{},_=n.dir,f=n.date;n._compressWorker(p,c).withStreamInfo("file",{name:b,dir:_,date:f,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(v)}),v.entriesCount=d}catch(b){v.error(b)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,s,o){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new i;for(var r in this)typeof this[r]!="function"&&(l[r]=this[r]);return l}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(l,r){return new i().loadAsync(l,r)},i.external=t("./external"),s.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,s,o){"use strict";var i=t("./utils"),l=t("./external"),r=t("./utf8"),h=t("./zipEntries"),m=t("./stream/Crc32Probe"),v=t("./nodejsUtils");function d(b){return new l.Promise(function(n,p){var c=b.decompressed.getContentWorker().pipe(new m);c.on("error",function(_){p(_)}).on("end",function(){c.streamInfo.crc32!==b.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}s.exports=function(b,n){var p=this;return n=i.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),v.isNode&&v.isStream(b)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",b,!0,n.optimizedBinaryString,n.base64).then(function(c){var _=new h(n);return _.load(c),_}).then(function(c){var _=[l.Promise.resolve(c)],f=c.files;if(n.checkCRC32)for(var y=0;y<f.length;y++)_.push(d(f[y]));return l.Promise.all(_)}).then(function(c){for(var _=c.shift(),f=_.files,y=0;y<f.length;y++){var w=f[y],S=w.fileNameStr,C=i.resolve(w.fileNameStr);p.file(C,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:n.createFolders}),w.dir||(p.file(C).unsafeOriginalName=S)}return _.zipComment.length&&(p.comment=_.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,s,o){"use strict";var i=t("../utils"),l=t("../stream/GenericWorker");function r(h,m){l.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(m)}i.inherits(r,l),r.prototype._bindStream=function(h){var m=this;(this._stream=h).pause(),h.on("data",function(v){m.push({data:v,meta:{percent:0}})}).on("error",function(v){m.isPaused?this.generatedError=v:m.error(v)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},r.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,s,o){"use strict";var i=t("readable-stream").Readable;function l(r,h,m){i.call(this,h),this._helper=r;var v=this;r.on("data",function(d,b){v.push(d)||v._helper.pause(),m&&m(b)}).on("error",function(d){v.emit("error",d)}).on("end",function(){v.push(null)})}t("../utils").inherits(l,i),l.prototype._read=function(){this._helper.resume()},s.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,s,o){"use strict";s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,l);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,l)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var l=new Buffer(i);return l.fill(0),l},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,s,o){"use strict";function i(C,U,R){var H,O=r.getTypeOf(U),G=r.extend(R||{},v);G.date=G.date||new Date,G.compression!==null&&(G.compression=G.compression.toUpperCase()),typeof G.unixPermissions=="string"&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(C=f(C)),G.createFolders&&(H=_(C))&&y.call(this,H,!0);var q=O==="string"&&G.binary===!1&&G.base64===!1;R&&R.binary!==void 0||(G.binary=!q),(U instanceof d&&U.uncompressedSize===0||G.dir||!U||U.length===0)&&(G.base64=!1,G.binary=!0,U="",G.compression="STORE",O="string");var k=null;k=U instanceof d||U instanceof h?U:p.isNode&&p.isStream(U)?new c(C,U):r.prepareContent(C,U,G.binary,G.optimizedBinaryString,G.base64);var I=new b(C,k,G);this.files[C]=I}var l=t("./utf8"),r=t("./utils"),h=t("./stream/GenericWorker"),m=t("./stream/StreamHelper"),v=t("./defaults"),d=t("./compressedObject"),b=t("./zipObject"),n=t("./generate"),p=t("./nodejsUtils"),c=t("./nodejs/NodejsStreamInputAdapter"),_=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var U=C.lastIndexOf("/");return 0<U?C.substring(0,U):""},f=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},y=function(C,U){return U=U!==void 0?U:v.createFolders,C=f(C),this.files[C]||i.call(this,C,null,{dir:!0,createFolders:U}),this.files[C]};function w(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var U,R,H;for(U in this.files)H=this.files[U],(R=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&C(R,H)},filter:function(C){var U=[];return this.forEach(function(R,H){C(R,H)&&U.push(H)}),U},file:function(C,U,R){if(arguments.length!==1)return C=this.root+C,i.call(this,C,U,R),this;if(w(C)){var H=C;return this.filter(function(G,q){return!q.dir&&H.test(G)})}var O=this.files[this.root+C];return O&&!O.dir?O:null},folder:function(C){if(!C)return this;if(w(C))return this.filter(function(O,G){return G.dir&&C.test(O)});var U=this.root+C,R=y.call(this,U),H=this.clone();return H.root=R.name,H},remove:function(C){C=this.root+C;var U=this.files[C];if(U||(C.slice(-1)!=="/"&&(C+="/"),U=this.files[C]),U&&!U.dir)delete this.files[C];else for(var R=this.filter(function(O,G){return G.name.slice(0,C.length)===C}),H=0;H<R.length;H++)delete this.files[R[H].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var U,R={};try{if((R=r.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");r.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var H=R.comment||this.comment||"";U=n.generateWorker(this,R,H)}catch(O){(U=new h("error")).error(O)}return new m(U,R.type||"string",R.mimeType)},generateAsync:function(C,U){return this.generateInternalStream(C).accumulate(U)},generateNodeStream:function(C,U){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(U)}};s.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,s,o){"use strict";s.exports=t("stream")},{stream:void 0}],17:[function(t,s,o){"use strict";var i=t("./DataReader");function l(r){i.call(this,r);for(var h=0;h<this.data.length;h++)r[h]=255&r[h]}t("../utils").inherits(l,i),l.prototype.byteAt=function(r){return this.data[this.zero+r]},l.prototype.lastIndexOfSignature=function(r){for(var h=r.charCodeAt(0),m=r.charCodeAt(1),v=r.charCodeAt(2),d=r.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===h&&this.data[b+1]===m&&this.data[b+2]===v&&this.data[b+3]===d)return b-this.zero;return-1},l.prototype.readAndCheckSignature=function(r){var h=r.charCodeAt(0),m=r.charCodeAt(1),v=r.charCodeAt(2),d=r.charCodeAt(3),b=this.readData(4);return h===b[0]&&m===b[1]&&v===b[2]&&d===b[3]},l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,h},s.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,s,o){"use strict";var i=t("../utils");function l(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var h,m=0;for(this.checkOffset(r),h=this.index+r-1;h>=this.index;h--)m=(m<<8)+this.byteAt(h);return this.index+=r,m},readString:function(r){return i.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},s.exports=l},{"../utils":32}],19:[function(t,s,o){"use strict";var i=t("./Uint8ArrayReader");function l(r){i.call(this,r)}t("../utils").inherits(l,i),l.prototype.readData=function(r){this.checkOffset(r);var h=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,h},s.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,s,o){"use strict";var i=t("./DataReader");function l(r){i.call(this,r)}t("../utils").inherits(l,i),l.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},l.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},l.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},l.prototype.readData=function(r){this.checkOffset(r);var h=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,h},s.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,s,o){"use strict";var i=t("./ArrayReader");function l(r){i.call(this,r)}t("../utils").inherits(l,i),l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,h},s.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,s,o){"use strict";var i=t("../utils"),l=t("../support"),r=t("./ArrayReader"),h=t("./StringReader"),m=t("./NodeBufferReader"),v=t("./Uint8ArrayReader");s.exports=function(d){var b=i.getTypeOf(d);return i.checkSupport(b),b!=="string"||l.uint8array?b==="nodebuffer"?new m(d):l.uint8array?new v(i.transformTo("uint8array",d)):new r(i.transformTo("array",d)):new h(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,s,o){"use strict";o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,s,o){"use strict";var i=t("./GenericWorker"),l=t("../utils");function r(h){i.call(this,"ConvertWorker to "+h),this.destType=h}l.inherits(r,i),r.prototype.processChunk=function(h){this.push({data:l.transformTo(this.destType,h.data),meta:h.meta})},s.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,s,o){"use strict";var i=t("./GenericWorker"),l=t("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(r,i),r.prototype.processChunk=function(h){this.streamInfo.crc32=l(h.data,this.streamInfo.crc32||0),this.push(h)},s.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,s,o){"use strict";var i=t("../utils"),l=t("./GenericWorker");function r(h){l.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}i.inherits(r,l),r.prototype.processChunk=function(h){if(h){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+h.data.length}l.prototype.processChunk.call(this,h)},s.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,s,o){"use strict";var i=t("../utils"),l=t("./GenericWorker");function r(h){l.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(v){m.dataIsReady=!0,m.data=v,m.max=v&&v.length||0,m.type=i.getTypeOf(v),m.isPaused||m._tickAndRepeat()},function(v){m.error(v)})}i.inherits(r,l),r.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,m);break;case"uint8array":h=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":h=this.data.slice(this.index,m)}return this.index=m,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,s,o){"use strict";function i(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,r){return this._listeners[l].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,r){if(this._listeners[l])for(var h=0;h<this._listeners[l].length;h++)this._listeners[l][h].call(this,r)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var r=this;return l.on("data",function(h){r.processChunk(h)}),l.on("end",function(){r.end()}),l.on("error",function(h){r.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,r){return this.extraStreamInfo[l]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},s.exports=i},{}],29:[function(t,s,o){"use strict";var i=t("../utils"),l=t("./ConvertWorker"),r=t("./GenericWorker"),h=t("../base64"),m=t("../support"),v=t("../external"),d=null;if(m.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(p,c){return new v.Promise(function(_,f){var y=[],w=p._internalType,S=p._outputType,C=p._mimeType;p.on("data",function(U,R){y.push(U),c&&c(R)}).on("error",function(U){y=[],f(U)}).on("end",function(){try{var U=function(R,H,O){switch(R){case"blob":return i.newBlob(i.transformTo("arraybuffer",H),O);case"base64":return h.encode(H);default:return i.transformTo(R,H)}}(S,function(R,H){var O,G=0,q=null,k=0;for(O=0;O<H.length;O++)k+=H[O].length;switch(R){case"string":return H.join("");case"array":return Array.prototype.concat.apply([],H);case"uint8array":for(q=new Uint8Array(k),O=0;O<H.length;O++)q.set(H[O],G),G+=H[O].length;return q;case"nodebuffer":return Buffer.concat(H);default:throw new Error("concat : unsupported type '"+R+"'")}}(w,y),C);_(U)}catch(R){f(R)}y=[]}).resume()})}function n(p,c,_){var f=c;switch(c){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=c,this._mimeType=_,i.checkSupport(f),this._worker=p.pipe(new l(f)),p.lock()}catch(y){this._worker=new r("error"),this._worker.error(y)}}n.prototype={accumulate:function(p){return b(this,p)},on:function(p,c){var _=this;return p==="data"?this._worker.on(p,function(f){c.call(_,f.data,f.meta)}):this._worker.on(p,function(){i.delay(c,arguments,_)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},s.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,s,o){"use strict";if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(i),o.blob=l.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!t("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(t,s,o){"use strict";for(var i=t("./utils"),l=t("./support"),r=t("./nodejsUtils"),h=t("./stream/GenericWorker"),m=new Array(256),v=0;v<256;v++)m[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;m[254]=m[254]=1;function d(){h.call(this,"utf-8 decode"),this.leftOver=null}function b(){h.call(this,"utf-8 encode")}o.utf8encode=function(n){return l.nodebuffer?r.newBufferFrom(n,"utf-8"):function(p){var c,_,f,y,w,S=p.length,C=0;for(y=0;y<S;y++)(64512&(_=p.charCodeAt(y)))==55296&&y+1<S&&(64512&(f=p.charCodeAt(y+1)))==56320&&(_=65536+(_-55296<<10)+(f-56320),y++),C+=_<128?1:_<2048?2:_<65536?3:4;for(c=l.uint8array?new Uint8Array(C):new Array(C),y=w=0;w<C;y++)(64512&(_=p.charCodeAt(y)))==55296&&y+1<S&&(64512&(f=p.charCodeAt(y+1)))==56320&&(_=65536+(_-55296<<10)+(f-56320),y++),_<128?c[w++]=_:(_<2048?c[w++]=192|_>>>6:(_<65536?c[w++]=224|_>>>12:(c[w++]=240|_>>>18,c[w++]=128|_>>>12&63),c[w++]=128|_>>>6&63),c[w++]=128|63&_);return c}(n)},o.utf8decode=function(n){return l.nodebuffer?i.transformTo("nodebuffer",n).toString("utf-8"):function(p){var c,_,f,y,w=p.length,S=new Array(2*w);for(c=_=0;c<w;)if((f=p[c++])<128)S[_++]=f;else if(4<(y=m[f]))S[_++]=65533,c+=y-1;else{for(f&=y===2?31:y===3?15:7;1<y&&c<w;)f=f<<6|63&p[c++],y--;1<y?S[_++]=65533:f<65536?S[_++]=f:(f-=65536,S[_++]=55296|f>>10&1023,S[_++]=56320|1023&f)}return S.length!==_&&(S.subarray?S=S.subarray(0,_):S.length=_),i.applyFromCharCode(S)}(n=i.transformTo(l.uint8array?"uint8array":"array",n))},i.inherits(d,h),d.prototype.processChunk=function(n){var p=i.transformTo(l.uint8array?"uint8array":"array",n.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var c=p;(p=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),p.set(c,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var _=function(y,w){var S;for((w=w||y.length)>y.length&&(w=y.length),S=w-1;0<=S&&(192&y[S])==128;)S--;return S<0||S===0?w:S+m[y[S]]>w?S:w}(p),f=p;_!==p.length&&(l.uint8array?(f=p.subarray(0,_),this.leftOver=p.subarray(_,p.length)):(f=p.slice(0,_),this.leftOver=p.slice(_,p.length))),this.push({data:o.utf8decode(f),meta:n.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=d,i.inherits(b,h),b.prototype.processChunk=function(n){this.push({data:o.utf8encode(n.data),meta:n.meta})},o.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,s,o){"use strict";var i=t("./support"),l=t("./base64"),r=t("./nodejsUtils"),h=t("./external");function m(c){return c}function v(c,_){for(var f=0;f<c.length;++f)_[f]=255&c.charCodeAt(f);return _}t("setimmediate"),o.newBlob=function(c,_){o.checkSupport("blob");try{return new Blob([c],{type:_})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(c),f.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(c,_,f){var y=[],w=0,S=c.length;if(S<=f)return String.fromCharCode.apply(null,c);for(;w<S;)_==="array"||_==="nodebuffer"?y.push(String.fromCharCode.apply(null,c.slice(w,Math.min(w+f,S)))):y.push(String.fromCharCode.apply(null,c.subarray(w,Math.min(w+f,S)))),w+=f;return y.join("")},stringifyByChar:function(c){for(var _="",f=0;f<c.length;f++)_+=String.fromCharCode(c[f]);return _},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function b(c){var _=65536,f=o.getTypeOf(c),y=!0;if(f==="uint8array"?y=d.applyCanBeUsed.uint8array:f==="nodebuffer"&&(y=d.applyCanBeUsed.nodebuffer),y)for(;1<_;)try{return d.stringifyByChunk(c,f,_)}catch{_=Math.floor(_/2)}return d.stringifyByChar(c)}function n(c,_){for(var f=0;f<c.length;f++)_[f]=c[f];return _}o.applyFromCharCode=b;var p={};p.string={string:m,array:function(c){return v(c,new Array(c.length))},arraybuffer:function(c){return p.string.uint8array(c).buffer},uint8array:function(c){return v(c,new Uint8Array(c.length))},nodebuffer:function(c){return v(c,r.allocBuffer(c.length))}},p.array={string:b,array:m,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return r.newBufferFrom(c)}},p.arraybuffer={string:function(c){return b(new Uint8Array(c))},array:function(c){return n(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:m,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return r.newBufferFrom(new Uint8Array(c))}},p.uint8array={string:b,array:function(c){return n(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:m,nodebuffer:function(c){return r.newBufferFrom(c)}},p.nodebuffer={string:b,array:function(c){return n(c,new Array(c.length))},arraybuffer:function(c){return p.nodebuffer.uint8array(c).buffer},uint8array:function(c){return n(c,new Uint8Array(c.length))},nodebuffer:m},o.transformTo=function(c,_){if(_=_||"",!c)return _;o.checkSupport(c);var f=o.getTypeOf(_);return p[f][c](_)},o.resolve=function(c){for(var _=c.split("/"),f=[],y=0;y<_.length;y++){var w=_[y];w==="."||w===""&&y!==0&&y!==_.length-1||(w===".."?f.pop():f.push(w))}return f.join("/")},o.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":i.nodebuffer&&r.isBuffer(c)?"nodebuffer":i.uint8array&&c instanceof Uint8Array?"uint8array":i.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(c){if(!i[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(c){var _,f,y="";for(f=0;f<(c||"").length;f++)y+="\\x"+((_=c.charCodeAt(f))<16?"0":"")+_.toString(16).toUpperCase();return y},o.delay=function(c,_,f){setImmediate(function(){c.apply(f||null,_||[])})},o.inherits=function(c,_){function f(){}f.prototype=_.prototype,c.prototype=new f},o.extend=function(){var c,_,f={};for(c=0;c<arguments.length;c++)for(_ in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],_)&&f[_]===void 0&&(f[_]=arguments[c][_]);return f},o.prepareContent=function(c,_,f,y,w){return h.Promise.resolve(_).then(function(S){return i.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new h.Promise(function(C,U){var R=new FileReader;R.onload=function(H){C(H.target.result)},R.onerror=function(H){U(H.target.error)},R.readAsArrayBuffer(S)}):S}).then(function(S){var C=o.getTypeOf(S);return C?(C==="arraybuffer"?S=o.transformTo("uint8array",S):C==="string"&&(w?S=l.decode(S):f&&y!==!0&&(S=function(U){return v(U,i.uint8array?new Uint8Array(U.length):new Array(U.length))}(S))),S):h.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,s,o){"use strict";var i=t("./reader/readerFor"),l=t("./utils"),r=t("./signature"),h=t("./zipEntry"),m=t("./support");function v(d){this.files=[],this.loadOptions=d}v.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(b)+", expected "+l.pretty(d)+")")}},isSignature:function(d,b){var n=this.reader.index;this.reader.setIndex(d);var p=this.reader.readString(4)===b;return this.reader.setIndex(n),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),b=m.uint8array?"uint8array":"array",n=l.transformTo(b,d);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,b,n,p=this.zip64EndOfCentralSize-44;0<p;)d=this.reader.readInt(2),b=this.reader.readInt(4),n=this.reader.readData(b),this.zip64ExtensibleData[d]={id:d,length:b,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,b;for(d=0;d<this.files.length;d++)b=this.files[d],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(d=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var b=d;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var p=b-n;if(0<p)this.isSignature(b,r.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(d){this.reader=i(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,s,o){"use strict";var i=t("./reader/readerFor"),l=t("./utils"),r=t("./compressedObject"),h=t("./crc32"),m=t("./utf8"),v=t("./compressions"),d=t("./support");function b(n,p){this.options=n,this.loadOptions=p}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(n){var p,c;if(n.skip(22),this.fileNameLength=n.readInt(2),c=n.readInt(2),this.fileName=n.readData(this.fileNameLength),n.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(_){for(var f in v)if(Object.prototype.hasOwnProperty.call(v,f)&&v[f].magic===_)return v[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,p,n.readData(this.compressedSize))},readCentralPart:function(n){this.versionMadeBy=n.readInt(2),n.skip(2),this.bitFlag=n.readInt(2),this.compressionMethod=n.readString(2),this.date=n.readDate(),this.crc32=n.readInt(4),this.compressedSize=n.readInt(4),this.uncompressedSize=n.readInt(4);var p=n.readInt(2);if(this.extraFieldsLength=n.readInt(2),this.fileCommentLength=n.readInt(2),this.diskNumberStart=n.readInt(2),this.internalFileAttributes=n.readInt(2),this.externalFileAttributes=n.readInt(4),this.localHeaderOffset=n.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");n.skip(p),this.readExtraFields(n),this.parseZIP64ExtraField(n),this.fileComment=n.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var n=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),n==0&&(this.dosPermissions=63&this.externalFileAttributes),n==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var n=i(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=n.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=n.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=n.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=n.readInt(4))}},readExtraFields:function(n){var p,c,_,f=n.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});n.index+4<f;)p=n.readInt(2),c=n.readInt(2),_=n.readData(c),this.extraFields[p]={id:p,length:c,value:_};n.setIndex(f)},handleUTF8:function(){var n=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var c=l.transformTo(n,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var f=l.transformTo(n,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var n=this.extraFields[28789];if(n){var p=i(n.value);return p.readInt(1)!==1||h(this.fileName)!==p.readInt(4)?null:m.utf8decode(p.readData(n.length-5))}return null},findExtraFieldUnicodeComment:function(){var n=this.extraFields[25461];if(n){var p=i(n.value);return p.readInt(1)!==1||h(this.fileComment)!==p.readInt(4)?null:m.utf8decode(p.readData(n.length-5))}return null}},s.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,s,o){"use strict";function i(p,c,_){this.name=p,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=c,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var l=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),h=t("./utf8"),m=t("./compressedObject"),v=t("./stream/GenericWorker");i.prototype={internalStream:function(p){var c=null,_="string";try{if(!p)throw new Error("No output type specified.");var f=(_=p.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),c=this._decompressWorker();var y=!this._dataBinary;y&&!f&&(c=c.pipe(new h.Utf8EncodeWorker)),!y&&f&&(c=c.pipe(new h.Utf8DecodeWorker))}catch(w){(c=new v("error")).error(w)}return new l(c,_,"")},async:function(p,c){return this.internalStream(p).accumulate(c)},nodeStream:function(p,c){return this.internalStream(p||"nodebuffer").toNodejsStream(c)},_compressWorker:function(p,c){if(this._data instanceof m&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new h.Utf8EncodeWorker)),m.createWorkerFrom(_,p,c)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof v?this._data:new r(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},n=0;n<d.length;n++)i.prototype[d[n]]=b;s.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,s,o){(function(i){"use strict";var l,r,h=i.MutationObserver||i.WebKitMutationObserver;if(h){var m=0,v=new h(p),d=i.document.createTextNode("");v.observe(d,{characterData:!0}),l=function(){d.data=m=++m%2}}else if(i.setImmediate||i.MessageChannel===void 0)l="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var c=i.document.createElement("script");c.onreadystatechange=function(){p(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},i.document.documentElement.appendChild(c)}:function(){setTimeout(p,0)};else{var b=new i.MessageChannel;b.port1.onmessage=p,l=function(){b.port2.postMessage(0)}}var n=[];function p(){var c,_;r=!0;for(var f=n.length;f;){for(_=n,n=[],c=-1;++c<f;)_[c]();f=n.length}r=!1}s.exports=function(c){n.push(c)!==1||r||l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,s,o){"use strict";var i=t("immediate");function l(){}var r={},h=["REJECTED"],m=["FULFILLED"],v=["PENDING"];function d(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,f!==l&&c(this,f)}function b(f,y,w){this.promise=f,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function n(f,y,w){i(function(){var S;try{S=y(w)}catch(C){return r.reject(f,C)}S===f?r.reject(f,new TypeError("Cannot resolve promise with itself")):r.resolve(f,S)})}function p(f){var y=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof y=="function")return function(){y.apply(f,arguments)}}function c(f,y){var w=!1;function S(R){w||(w=!0,r.reject(f,R))}function C(R){w||(w=!0,r.resolve(f,R))}var U=_(function(){y(C,S)});U.status==="error"&&S(U.value)}function _(f,y){var w={};try{w.value=f(y),w.status="success"}catch(S){w.status="error",w.value=S}return w}(s.exports=d).prototype.finally=function(f){if(typeof f!="function")return this;var y=this.constructor;return this.then(function(w){return y.resolve(f()).then(function(){return w})},function(w){return y.resolve(f()).then(function(){throw w})})},d.prototype.catch=function(f){return this.then(null,f)},d.prototype.then=function(f,y){if(typeof f!="function"&&this.state===m||typeof y!="function"&&this.state===h)return this;var w=new this.constructor(l);return this.state!==v?n(w,this.state===m?f:y,this.outcome):this.queue.push(new b(w,f,y)),w},b.prototype.callFulfilled=function(f){r.resolve(this.promise,f)},b.prototype.otherCallFulfilled=function(f){n(this.promise,this.onFulfilled,f)},b.prototype.callRejected=function(f){r.reject(this.promise,f)},b.prototype.otherCallRejected=function(f){n(this.promise,this.onRejected,f)},r.resolve=function(f,y){var w=_(p,y);if(w.status==="error")return r.reject(f,w.value);var S=w.value;if(S)c(f,S);else{f.state=m,f.outcome=y;for(var C=-1,U=f.queue.length;++C<U;)f.queue[C].callFulfilled(y)}return f},r.reject=function(f,y){f.state=h,f.outcome=y;for(var w=-1,S=f.queue.length;++w<S;)f.queue[w].callRejected(y);return f},d.resolve=function(f){return f instanceof this?f:r.resolve(new this(l),f)},d.reject=function(f){var y=new this(l);return r.reject(y,f)},d.all=function(f){var y=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=f.length,S=!1;if(!w)return this.resolve([]);for(var C=new Array(w),U=0,R=-1,H=new this(l);++R<w;)O(f[R],R);return H;function O(G,q){y.resolve(G).then(function(k){C[q]=k,++U!==w||S||(S=!0,r.resolve(H,C))},function(k){S||(S=!0,r.reject(H,k))})}},d.race=function(f){var y=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=f.length,S=!1;if(!w)return this.resolve([]);for(var C=-1,U=new this(l);++C<w;)R=f[C],y.resolve(R).then(function(H){S||(S=!0,r.resolve(U,H))},function(H){S||(S=!0,r.reject(U,H))});var R;return U}},{immediate:36}],38:[function(t,s,o){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),s.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,s,o){"use strict";var i=t("./zlib/deflate"),l=t("./utils/common"),r=t("./utils/strings"),h=t("./zlib/messages"),m=t("./zlib/zstream"),v=Object.prototype.toString,d=0,b=-1,n=0,p=8;function c(f){if(!(this instanceof c))return new c(f);this.options=l.assign({level:b,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},f||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==d)throw new Error(h[w]);if(y.header&&i.deflateSetHeader(this.strm,y.header),y.dictionary){var S;if(S=typeof y.dictionary=="string"?r.string2buf(y.dictionary):v.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(w=i.deflateSetDictionary(this.strm,S))!==d)throw new Error(h[w]);this._dict_set=!0}}function _(f,y){var w=new c(y);if(w.push(f,!0),w.err)throw w.msg||h[w.err];return w.result}c.prototype.push=function(f,y){var w,S,C=this.strm,U=this.options.chunkSize;if(this.ended)return!1;S=y===~~y?y:y===!0?4:0,typeof f=="string"?C.input=r.string2buf(f):v.call(f)==="[object ArrayBuffer]"?C.input=new Uint8Array(f):C.input=f,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new l.Buf8(U),C.next_out=0,C.avail_out=U),(w=i.deflate(C,S))!==1&&w!==d)return this.onEnd(w),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(l.shrinkBuf(C.output,C.next_out))):this.onData(l.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&w!==1);return S===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===d):S!==2||(this.onEnd(d),!(C.avail_out=0))},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},o.Deflate=c,o.deflate=_,o.deflateRaw=function(f,y){return(y=y||{}).raw=!0,_(f,y)},o.gzip=function(f,y){return(y=y||{}).gzip=!0,_(f,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,s,o){"use strict";var i=t("./zlib/inflate"),l=t("./utils/common"),r=t("./utils/strings"),h=t("./zlib/constants"),m=t("./zlib/messages"),v=t("./zlib/zstream"),d=t("./zlib/gzheader"),b=Object.prototype.toString;function n(c){if(!(this instanceof n))return new n(c);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},c||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||c&&c.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var f=i.inflateInit2(this.strm,_.windowBits);if(f!==h.Z_OK)throw new Error(m[f]);this.header=new d,i.inflateGetHeader(this.strm,this.header)}function p(c,_){var f=new n(_);if(f.push(c,!0),f.err)throw f.msg||m[f.err];return f.result}n.prototype.push=function(c,_){var f,y,w,S,C,U,R=this.strm,H=this.options.chunkSize,O=this.options.dictionary,G=!1;if(this.ended)return!1;y=_===~~_?_:_===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof c=="string"?R.input=r.binstring2buf(c):b.call(c)==="[object ArrayBuffer]"?R.input=new Uint8Array(c):R.input=c,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new l.Buf8(H),R.next_out=0,R.avail_out=H),(f=i.inflate(R,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&O&&(U=typeof O=="string"?r.string2buf(O):b.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,f=i.inflateSetDictionary(this.strm,U)),f===h.Z_BUF_ERROR&&G===!0&&(f=h.Z_OK,G=!1),f!==h.Z_STREAM_END&&f!==h.Z_OK)return this.onEnd(f),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&f!==h.Z_STREAM_END&&(R.avail_in!==0||y!==h.Z_FINISH&&y!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=r.utf8border(R.output,R.next_out),S=R.next_out-w,C=r.buf2string(R.output,w),R.next_out=S,R.avail_out=H-S,S&&l.arraySet(R.output,R.output,w,S,0),this.onData(C)):this.onData(l.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(G=!0)}while((0<R.avail_in||R.avail_out===0)&&f!==h.Z_STREAM_END);return f===h.Z_STREAM_END&&(y=h.Z_FINISH),y===h.Z_FINISH?(f=i.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===h.Z_OK):y!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(R.avail_out=0))},n.prototype.onData=function(c){this.chunks.push(c)},n.prototype.onEnd=function(c){c===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},o.Inflate=n,o.inflate=p,o.inflateRaw=function(c,_){return(_=_||{}).raw=!0,p(c,_)},o.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,s,o){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(h){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var v=m.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var d in v)v.hasOwnProperty(d)&&(h[d]=v[d])}}return h},o.shrinkBuf=function(h,m){return h.length===m?h:h.subarray?h.subarray(0,m):(h.length=m,h)};var l={arraySet:function(h,m,v,d,b){if(m.subarray&&h.subarray)h.set(m.subarray(v,v+d),b);else for(var n=0;n<d;n++)h[b+n]=m[v+n]},flattenChunks:function(h){var m,v,d,b,n,p;for(m=d=0,v=h.length;m<v;m++)d+=h[m].length;for(p=new Uint8Array(d),m=b=0,v=h.length;m<v;m++)n=h[m],p.set(n,b),b+=n.length;return p}},r={arraySet:function(h,m,v,d,b){for(var n=0;n<d;n++)h[b+n]=m[v+n]},flattenChunks:function(h){return[].concat.apply([],h)}};o.setTyped=function(h){h?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,l)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,r))},o.setTyped(i)},{}],42:[function(t,s,o){"use strict";var i=t("./common"),l=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var h=new i.Buf8(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function v(d,b){if(b<65537&&(d.subarray&&r||!d.subarray&&l))return String.fromCharCode.apply(null,i.shrinkBuf(d,b));for(var n="",p=0;p<b;p++)n+=String.fromCharCode(d[p]);return n}h[254]=h[254]=1,o.string2buf=function(d){var b,n,p,c,_,f=d.length,y=0;for(c=0;c<f;c++)(64512&(n=d.charCodeAt(c)))==55296&&c+1<f&&(64512&(p=d.charCodeAt(c+1)))==56320&&(n=65536+(n-55296<<10)+(p-56320),c++),y+=n<128?1:n<2048?2:n<65536?3:4;for(b=new i.Buf8(y),c=_=0;_<y;c++)(64512&(n=d.charCodeAt(c)))==55296&&c+1<f&&(64512&(p=d.charCodeAt(c+1)))==56320&&(n=65536+(n-55296<<10)+(p-56320),c++),n<128?b[_++]=n:(n<2048?b[_++]=192|n>>>6:(n<65536?b[_++]=224|n>>>12:(b[_++]=240|n>>>18,b[_++]=128|n>>>12&63),b[_++]=128|n>>>6&63),b[_++]=128|63&n);return b},o.buf2binstring=function(d){return v(d,d.length)},o.binstring2buf=function(d){for(var b=new i.Buf8(d.length),n=0,p=b.length;n<p;n++)b[n]=d.charCodeAt(n);return b},o.buf2string=function(d,b){var n,p,c,_,f=b||d.length,y=new Array(2*f);for(n=p=0;n<f;)if((c=d[n++])<128)y[p++]=c;else if(4<(_=h[c]))y[p++]=65533,n+=_-1;else{for(c&=_===2?31:_===3?15:7;1<_&&n<f;)c=c<<6|63&d[n++],_--;1<_?y[p++]=65533:c<65536?y[p++]=c:(c-=65536,y[p++]=55296|c>>10&1023,y[p++]=56320|1023&c)}return v(y,p)},o.utf8border=function(d,b){var n;for((b=b||d.length)>d.length&&(b=d.length),n=b-1;0<=n&&(192&d[n])==128;)n--;return n<0||n===0?b:n+h[d[n]]>b?n:b}},{"./common":41}],43:[function(t,s,o){"use strict";s.exports=function(i,l,r,h){for(var m=65535&i|0,v=i>>>16&65535|0,d=0;r!==0;){for(r-=d=2e3<r?2e3:r;v=v+(m=m+l[h++]|0)|0,--d;);m%=65521,v%=65521}return m|v<<16|0}},{}],44:[function(t,s,o){"use strict";s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,s,o){"use strict";var i=function(){for(var l,r=[],h=0;h<256;h++){l=h;for(var m=0;m<8;m++)l=1&l?3988292384^l>>>1:l>>>1;r[h]=l}return r}();s.exports=function(l,r,h,m){var v=i,d=m+h;l^=-1;for(var b=m;b<d;b++)l=l>>>8^v[255&(l^r[b])];return-1^l}},{}],46:[function(t,s,o){"use strict";var i,l=t("../utils/common"),r=t("./trees"),h=t("./adler32"),m=t("./crc32"),v=t("./messages"),d=0,b=4,n=0,p=-2,c=-1,_=4,f=2,y=8,w=9,S=286,C=30,U=19,R=2*S+1,H=15,O=3,G=258,q=G+O+1,k=42,I=113,a=1,j=2,tt=3,W=4;function rt(e,D){return e.msg=v[D],D}function $(e){return(e<<1)-(4<e?9:0)}function V(e){for(var D=e.length;0<=--D;)e[D]=0}function T(e){var D=e.state,A=D.pending;A>e.avail_out&&(A=e.avail_out),A!==0&&(l.arraySet(e.output,D.pending_buf,D.pending_out,A,e.next_out),e.next_out+=A,D.pending_out+=A,e.total_out+=A,e.avail_out-=A,D.pending-=A,D.pending===0&&(D.pending_out=0))}function z(e,D){r._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,D),e.block_start=e.strstart,T(e.strm)}function X(e,D){e.pending_buf[e.pending++]=D}function B(e,D){e.pending_buf[e.pending++]=D>>>8&255,e.pending_buf[e.pending++]=255&D}function N(e,D){var A,g,u=e.max_chain_length,x=e.strstart,L=e.prev_length,F=e.nice_match,E=e.strstart>e.w_size-q?e.strstart-(e.w_size-q):0,P=e.window,M=e.w_mask,Z=e.prev,K=e.strstart+G,st=P[x+L-1],et=P[x+L];e.prev_length>=e.good_match&&(u>>=2),F>e.lookahead&&(F=e.lookahead);do if(P[(A=D)+L]===et&&P[A+L-1]===st&&P[A]===P[x]&&P[++A]===P[x+1]){x+=2,A++;do;while(P[++x]===P[++A]&&P[++x]===P[++A]&&P[++x]===P[++A]&&P[++x]===P[++A]&&P[++x]===P[++A]&&P[++x]===P[++A]&&P[++x]===P[++A]&&P[++x]===P[++A]&&x<K);if(g=G-(K-x),x=K-G,L<g){if(e.match_start=D,F<=(L=g))break;st=P[x+L-1],et=P[x+L]}}while((D=Z[D&M])>E&&--u!=0);return L<=e.lookahead?L:e.lookahead}function Y(e){var D,A,g,u,x,L,F,E,P,M,Z=e.w_size;do{if(u=e.window_size-e.lookahead-e.strstart,e.strstart>=Z+(Z-q)){for(l.arraySet(e.window,e.window,Z,Z,0),e.match_start-=Z,e.strstart-=Z,e.block_start-=Z,D=A=e.hash_size;g=e.head[--D],e.head[D]=Z<=g?g-Z:0,--A;);for(D=A=Z;g=e.prev[--D],e.prev[D]=Z<=g?g-Z:0,--A;);u+=Z}if(e.strm.avail_in===0)break;if(L=e.strm,F=e.window,E=e.strstart+e.lookahead,P=u,M=void 0,M=L.avail_in,P<M&&(M=P),A=M===0?0:(L.avail_in-=M,l.arraySet(F,L.input,L.next_in,M,E),L.state.wrap===1?L.adler=h(L.adler,F,M,E):L.state.wrap===2&&(L.adler=m(L.adler,F,M,E)),L.next_in+=M,L.total_in+=M,M),e.lookahead+=A,e.lookahead+e.insert>=O)for(x=e.strstart-e.insert,e.ins_h=e.window[x],e.ins_h=(e.ins_h<<e.hash_shift^e.window[x+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[x+O-1])&e.hash_mask,e.prev[x&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=x,x++,e.insert--,!(e.lookahead+e.insert<O)););}while(e.lookahead<q&&e.strm.avail_in!==0)}function nt(e,D){for(var A,g;;){if(e.lookahead<q){if(Y(e),e.lookahead<q&&D===d)return a;if(e.lookahead===0)break}if(A=0,e.lookahead>=O&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),A!==0&&e.strstart-A<=e.w_size-q&&(e.match_length=N(e,A)),e.match_length>=O)if(g=r._tr_tally(e,e.strstart-e.match_start,e.match_length-O),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=O){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,--e.match_length!=0;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else g=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(g&&(z(e,!1),e.strm.avail_out===0))return a}return e.insert=e.strstart<O-1?e.strstart:O-1,D===b?(z(e,!0),e.strm.avail_out===0?tt:W):e.last_lit&&(z(e,!1),e.strm.avail_out===0)?a:j}function J(e,D){for(var A,g,u;;){if(e.lookahead<q){if(Y(e),e.lookahead<q&&D===d)return a;if(e.lookahead===0)break}if(A=0,e.lookahead>=O&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=O-1,A!==0&&e.prev_length<e.max_lazy_match&&e.strstart-A<=e.w_size-q&&(e.match_length=N(e,A),e.match_length<=5&&(e.strategy===1||e.match_length===O&&4096<e.strstart-e.match_start)&&(e.match_length=O-1)),e.prev_length>=O&&e.match_length<=e.prev_length){for(u=e.strstart+e.lookahead-O,g=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-O),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=u&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),--e.prev_length!=0;);if(e.match_available=0,e.match_length=O-1,e.strstart++,g&&(z(e,!1),e.strm.avail_out===0))return a}else if(e.match_available){if((g=r._tr_tally(e,0,e.window[e.strstart-1]))&&z(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return a}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(g=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<O-1?e.strstart:O-1,D===b?(z(e,!0),e.strm.avail_out===0?tt:W):e.last_lit&&(z(e,!1),e.strm.avail_out===0)?a:j}function Q(e,D,A,g,u){this.good_length=e,this.max_lazy=D,this.nice_length=A,this.max_chain=g,this.func=u}function it(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*R),this.dyn_dtree=new l.Buf16(2*(2*C+1)),this.bl_tree=new l.Buf16(2*(2*U+1)),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(H+1),this.heap=new l.Buf16(2*S+1),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*S+1),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function at(e){var D;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=f,(D=e.state).pending=0,D.pending_out=0,D.wrap<0&&(D.wrap=-D.wrap),D.status=D.wrap?k:I,e.adler=D.wrap===2?0:1,D.last_flush=d,r._tr_init(D),n):rt(e,p)}function lt(e){var D=at(e);return D===n&&function(A){A.window_size=2*A.w_size,V(A.head),A.max_lazy_match=i[A.level].max_lazy,A.good_match=i[A.level].good_length,A.nice_match=i[A.level].nice_length,A.max_chain_length=i[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=O-1,A.match_available=0,A.ins_h=0}(e.state),D}function ot(e,D,A,g,u,x){if(!e)return p;var L=1;if(D===c&&(D=6),g<0?(L=0,g=-g):15<g&&(L=2,g-=16),u<1||w<u||A!==y||g<8||15<g||D<0||9<D||x<0||_<x)return rt(e,p);g===8&&(g=9);var F=new it;return(e.state=F).strm=e,F.wrap=L,F.gzhead=null,F.w_bits=g,F.w_size=1<<F.w_bits,F.w_mask=F.w_size-1,F.hash_bits=u+7,F.hash_size=1<<F.hash_bits,F.hash_mask=F.hash_size-1,F.hash_shift=~~((F.hash_bits+O-1)/O),F.window=new l.Buf8(2*F.w_size),F.head=new l.Buf16(F.hash_size),F.prev=new l.Buf16(F.w_size),F.lit_bufsize=1<<u+6,F.pending_buf_size=4*F.lit_bufsize,F.pending_buf=new l.Buf8(F.pending_buf_size),F.d_buf=1*F.lit_bufsize,F.l_buf=3*F.lit_bufsize,F.level=D,F.strategy=x,F.method=A,lt(e)}i=[new Q(0,0,0,0,function(e,D){var A=65535;for(A>e.pending_buf_size-5&&(A=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Y(e),e.lookahead===0&&D===d)return a;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var g=e.block_start+A;if((e.strstart===0||e.strstart>=g)&&(e.lookahead=e.strstart-g,e.strstart=g,z(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-q&&(z(e,!1),e.strm.avail_out===0))return a}return e.insert=0,D===b?(z(e,!0),e.strm.avail_out===0?tt:W):(e.strstart>e.block_start&&(z(e,!1),e.strm.avail_out),a)}),new Q(4,4,8,4,nt),new Q(4,5,16,8,nt),new Q(4,6,32,32,nt),new Q(4,4,16,16,J),new Q(8,16,32,32,J),new Q(8,16,128,128,J),new Q(8,32,128,256,J),new Q(32,128,258,1024,J),new Q(32,258,258,4096,J)],o.deflateInit=function(e,D){return ot(e,D,y,15,8,0)},o.deflateInit2=ot,o.deflateReset=lt,o.deflateResetKeep=at,o.deflateSetHeader=function(e,D){return e&&e.state?e.state.wrap!==2?p:(e.state.gzhead=D,n):p},o.deflate=function(e,D){var A,g,u,x;if(!e||!e.state||5<D||D<0)return e?rt(e,p):p;if(g=e.state,!e.output||!e.input&&e.avail_in!==0||g.status===666&&D!==b)return rt(e,e.avail_out===0?-5:p);if(g.strm=e,A=g.last_flush,g.last_flush=D,g.status===k)if(g.wrap===2)e.adler=0,X(g,31),X(g,139),X(g,8),g.gzhead?(X(g,(g.gzhead.text?1:0)+(g.gzhead.hcrc?2:0)+(g.gzhead.extra?4:0)+(g.gzhead.name?8:0)+(g.gzhead.comment?16:0)),X(g,255&g.gzhead.time),X(g,g.gzhead.time>>8&255),X(g,g.gzhead.time>>16&255),X(g,g.gzhead.time>>24&255),X(g,g.level===9?2:2<=g.strategy||g.level<2?4:0),X(g,255&g.gzhead.os),g.gzhead.extra&&g.gzhead.extra.length&&(X(g,255&g.gzhead.extra.length),X(g,g.gzhead.extra.length>>8&255)),g.gzhead.hcrc&&(e.adler=m(e.adler,g.pending_buf,g.pending,0)),g.gzindex=0,g.status=69):(X(g,0),X(g,0),X(g,0),X(g,0),X(g,0),X(g,g.level===9?2:2<=g.strategy||g.level<2?4:0),X(g,3),g.status=I);else{var L=y+(g.w_bits-8<<4)<<8;L|=(2<=g.strategy||g.level<2?0:g.level<6?1:g.level===6?2:3)<<6,g.strstart!==0&&(L|=32),L+=31-L%31,g.status=I,B(g,L),g.strstart!==0&&(B(g,e.adler>>>16),B(g,65535&e.adler)),e.adler=1}if(g.status===69)if(g.gzhead.extra){for(u=g.pending;g.gzindex<(65535&g.gzhead.extra.length)&&(g.pending!==g.pending_buf_size||(g.gzhead.hcrc&&g.pending>u&&(e.adler=m(e.adler,g.pending_buf,g.pending-u,u)),T(e),u=g.pending,g.pending!==g.pending_buf_size));)X(g,255&g.gzhead.extra[g.gzindex]),g.gzindex++;g.gzhead.hcrc&&g.pending>u&&(e.adler=m(e.adler,g.pending_buf,g.pending-u,u)),g.gzindex===g.gzhead.extra.length&&(g.gzindex=0,g.status=73)}else g.status=73;if(g.status===73)if(g.gzhead.name){u=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>u&&(e.adler=m(e.adler,g.pending_buf,g.pending-u,u)),T(e),u=g.pending,g.pending===g.pending_buf_size)){x=1;break}x=g.gzindex<g.gzhead.name.length?255&g.gzhead.name.charCodeAt(g.gzindex++):0,X(g,x)}while(x!==0);g.gzhead.hcrc&&g.pending>u&&(e.adler=m(e.adler,g.pending_buf,g.pending-u,u)),x===0&&(g.gzindex=0,g.status=91)}else g.status=91;if(g.status===91)if(g.gzhead.comment){u=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>u&&(e.adler=m(e.adler,g.pending_buf,g.pending-u,u)),T(e),u=g.pending,g.pending===g.pending_buf_size)){x=1;break}x=g.gzindex<g.gzhead.comment.length?255&g.gzhead.comment.charCodeAt(g.gzindex++):0,X(g,x)}while(x!==0);g.gzhead.hcrc&&g.pending>u&&(e.adler=m(e.adler,g.pending_buf,g.pending-u,u)),x===0&&(g.status=103)}else g.status=103;if(g.status===103&&(g.gzhead.hcrc?(g.pending+2>g.pending_buf_size&&T(e),g.pending+2<=g.pending_buf_size&&(X(g,255&e.adler),X(g,e.adler>>8&255),e.adler=0,g.status=I)):g.status=I),g.pending!==0){if(T(e),e.avail_out===0)return g.last_flush=-1,n}else if(e.avail_in===0&&$(D)<=$(A)&&D!==b)return rt(e,-5);if(g.status===666&&e.avail_in!==0)return rt(e,-5);if(e.avail_in!==0||g.lookahead!==0||D!==d&&g.status!==666){var F=g.strategy===2?function(E,P){for(var M;;){if(E.lookahead===0&&(Y(E),E.lookahead===0)){if(P===d)return a;break}if(E.match_length=0,M=r._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++,M&&(z(E,!1),E.strm.avail_out===0))return a}return E.insert=0,P===b?(z(E,!0),E.strm.avail_out===0?tt:W):E.last_lit&&(z(E,!1),E.strm.avail_out===0)?a:j}(g,D):g.strategy===3?function(E,P){for(var M,Z,K,st,et=E.window;;){if(E.lookahead<=G){if(Y(E),E.lookahead<=G&&P===d)return a;if(E.lookahead===0)break}if(E.match_length=0,E.lookahead>=O&&0<E.strstart&&(Z=et[K=E.strstart-1])===et[++K]&&Z===et[++K]&&Z===et[++K]){st=E.strstart+G;do;while(Z===et[++K]&&Z===et[++K]&&Z===et[++K]&&Z===et[++K]&&Z===et[++K]&&Z===et[++K]&&Z===et[++K]&&Z===et[++K]&&K<st);E.match_length=G-(st-K),E.match_length>E.lookahead&&(E.match_length=E.lookahead)}if(E.match_length>=O?(M=r._tr_tally(E,1,E.match_length-O),E.lookahead-=E.match_length,E.strstart+=E.match_length,E.match_length=0):(M=r._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++),M&&(z(E,!1),E.strm.avail_out===0))return a}return E.insert=0,P===b?(z(E,!0),E.strm.avail_out===0?tt:W):E.last_lit&&(z(E,!1),E.strm.avail_out===0)?a:j}(g,D):i[g.level].func(g,D);if(F!==tt&&F!==W||(g.status=666),F===a||F===tt)return e.avail_out===0&&(g.last_flush=-1),n;if(F===j&&(D===1?r._tr_align(g):D!==5&&(r._tr_stored_block(g,0,0,!1),D===3&&(V(g.head),g.lookahead===0&&(g.strstart=0,g.block_start=0,g.insert=0))),T(e),e.avail_out===0))return g.last_flush=-1,n}return D!==b?n:g.wrap<=0?1:(g.wrap===2?(X(g,255&e.adler),X(g,e.adler>>8&255),X(g,e.adler>>16&255),X(g,e.adler>>24&255),X(g,255&e.total_in),X(g,e.total_in>>8&255),X(g,e.total_in>>16&255),X(g,e.total_in>>24&255)):(B(g,e.adler>>>16),B(g,65535&e.adler)),T(e),0<g.wrap&&(g.wrap=-g.wrap),g.pending!==0?n:1)},o.deflateEnd=function(e){var D;return e&&e.state?(D=e.state.status)!==k&&D!==69&&D!==73&&D!==91&&D!==103&&D!==I&&D!==666?rt(e,p):(e.state=null,D===I?rt(e,-3):n):p},o.deflateSetDictionary=function(e,D){var A,g,u,x,L,F,E,P,M=D.length;if(!e||!e.state||(x=(A=e.state).wrap)===2||x===1&&A.status!==k||A.lookahead)return p;for(x===1&&(e.adler=h(e.adler,D,M,0)),A.wrap=0,M>=A.w_size&&(x===0&&(V(A.head),A.strstart=0,A.block_start=0,A.insert=0),P=new l.Buf8(A.w_size),l.arraySet(P,D,M-A.w_size,A.w_size,0),D=P,M=A.w_size),L=e.avail_in,F=e.next_in,E=e.input,e.avail_in=M,e.next_in=0,e.input=D,Y(A);A.lookahead>=O;){for(g=A.strstart,u=A.lookahead-(O-1);A.ins_h=(A.ins_h<<A.hash_shift^A.window[g+O-1])&A.hash_mask,A.prev[g&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=g,g++,--u;);A.strstart=g,A.lookahead=O-1,Y(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=O-1,A.match_available=0,e.next_in=F,e.input=E,e.avail_in=L,A.wrap=x,n},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,s,o){"use strict";s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,s,o){"use strict";s.exports=function(i,l){var r,h,m,v,d,b,n,p,c,_,f,y,w,S,C,U,R,H,O,G,q,k,I,a,j;r=i.state,h=i.next_in,a=i.input,m=h+(i.avail_in-5),v=i.next_out,j=i.output,d=v-(l-i.avail_out),b=v+(i.avail_out-257),n=r.dmax,p=r.wsize,c=r.whave,_=r.wnext,f=r.window,y=r.hold,w=r.bits,S=r.lencode,C=r.distcode,U=(1<<r.lenbits)-1,R=(1<<r.distbits)-1;t:do{w<15&&(y+=a[h++]<<w,w+=8,y+=a[h++]<<w,w+=8),H=S[y&U];e:for(;;){if(y>>>=O=H>>>24,w-=O,(O=H>>>16&255)===0)j[v++]=65535&H;else{if(!(16&O)){if(!(64&O)){H=S[(65535&H)+(y&(1<<O)-1)];continue e}if(32&O){r.mode=12;break t}i.msg="invalid literal/length code",r.mode=30;break t}G=65535&H,(O&=15)&&(w<O&&(y+=a[h++]<<w,w+=8),G+=y&(1<<O)-1,y>>>=O,w-=O),w<15&&(y+=a[h++]<<w,w+=8,y+=a[h++]<<w,w+=8),H=C[y&R];r:for(;;){if(y>>>=O=H>>>24,w-=O,!(16&(O=H>>>16&255))){if(!(64&O)){H=C[(65535&H)+(y&(1<<O)-1)];continue r}i.msg="invalid distance code",r.mode=30;break t}if(q=65535&H,w<(O&=15)&&(y+=a[h++]<<w,(w+=8)<O&&(y+=a[h++]<<w,w+=8)),n<(q+=y&(1<<O)-1)){i.msg="invalid distance too far back",r.mode=30;break t}if(y>>>=O,w-=O,(O=v-d)<q){if(c<(O=q-O)&&r.sane){i.msg="invalid distance too far back",r.mode=30;break t}if(I=f,(k=0)===_){if(k+=p-O,O<G){for(G-=O;j[v++]=f[k++],--O;);k=v-q,I=j}}else if(_<O){if(k+=p+_-O,(O-=_)<G){for(G-=O;j[v++]=f[k++],--O;);if(k=0,_<G){for(G-=O=_;j[v++]=f[k++],--O;);k=v-q,I=j}}}else if(k+=_-O,O<G){for(G-=O;j[v++]=f[k++],--O;);k=v-q,I=j}for(;2<G;)j[v++]=I[k++],j[v++]=I[k++],j[v++]=I[k++],G-=3;G&&(j[v++]=I[k++],1<G&&(j[v++]=I[k++]))}else{for(k=v-q;j[v++]=j[k++],j[v++]=j[k++],j[v++]=j[k++],2<(G-=3););G&&(j[v++]=j[k++],1<G&&(j[v++]=j[k++]))}break}}break}}while(h<m&&v<b);h-=G=w>>3,y&=(1<<(w-=G<<3))-1,i.next_in=h,i.next_out=v,i.avail_in=h<m?m-h+5:5-(h-m),i.avail_out=v<b?b-v+257:257-(v-b),r.hold=y,r.bits=w}},{}],49:[function(t,s,o){"use strict";var i=t("../utils/common"),l=t("./adler32"),r=t("./crc32"),h=t("./inffast"),m=t("./inftrees"),v=1,d=2,b=0,n=-2,p=1,c=852,_=592;function f(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(k){var I;return k&&k.state?(I=k.state,k.total_in=k.total_out=I.total=0,k.msg="",I.wrap&&(k.adler=1&I.wrap),I.mode=p,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new i.Buf32(c),I.distcode=I.distdyn=new i.Buf32(_),I.sane=1,I.back=-1,b):n}function S(k){var I;return k&&k.state?((I=k.state).wsize=0,I.whave=0,I.wnext=0,w(k)):n}function C(k,I){var a,j;return k&&k.state?(j=k.state,I<0?(a=0,I=-I):(a=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?n:(j.window!==null&&j.wbits!==I&&(j.window=null),j.wrap=a,j.wbits=I,S(k))):n}function U(k,I){var a,j;return k?(j=new y,(k.state=j).window=null,(a=C(k,I))!==b&&(k.state=null),a):n}var R,H,O=!0;function G(k){if(O){var I;for(R=new i.Buf32(512),H=new i.Buf32(32),I=0;I<144;)k.lens[I++]=8;for(;I<256;)k.lens[I++]=9;for(;I<280;)k.lens[I++]=7;for(;I<288;)k.lens[I++]=8;for(m(v,k.lens,0,288,R,0,k.work,{bits:9}),I=0;I<32;)k.lens[I++]=5;m(d,k.lens,0,32,H,0,k.work,{bits:5}),O=!1}k.lencode=R,k.lenbits=9,k.distcode=H,k.distbits=5}function q(k,I,a,j){var tt,W=k.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new i.Buf8(W.wsize)),j>=W.wsize?(i.arraySet(W.window,I,a-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(j<(tt=W.wsize-W.wnext)&&(tt=j),i.arraySet(W.window,I,a-j,tt,W.wnext),(j-=tt)?(i.arraySet(W.window,I,a-j,j,0),W.wnext=j,W.whave=W.wsize):(W.wnext+=tt,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=tt))),0}o.inflateReset=S,o.inflateReset2=C,o.inflateResetKeep=w,o.inflateInit=function(k){return U(k,15)},o.inflateInit2=U,o.inflate=function(k,I){var a,j,tt,W,rt,$,V,T,z,X,B,N,Y,nt,J,Q,it,at,lt,ot,e,D,A,g,u=0,x=new i.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return n;(a=k.state).mode===12&&(a.mode=13),rt=k.next_out,tt=k.output,V=k.avail_out,W=k.next_in,j=k.input,$=k.avail_in,T=a.hold,z=a.bits,X=$,B=V,D=b;t:for(;;)switch(a.mode){case p:if(a.wrap===0){a.mode=13;break}for(;z<16;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}if(2&a.wrap&&T===35615){x[a.check=0]=255&T,x[1]=T>>>8&255,a.check=r(a.check,x,2,0),z=T=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&T)<<8)+(T>>8))%31){k.msg="incorrect header check",a.mode=30;break}if((15&T)!=8){k.msg="unknown compression method",a.mode=30;break}if(z-=4,e=8+(15&(T>>>=4)),a.wbits===0)a.wbits=e;else if(e>a.wbits){k.msg="invalid window size",a.mode=30;break}a.dmax=1<<e,k.adler=a.check=1,a.mode=512&T?10:12,z=T=0;break;case 2:for(;z<16;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}if(a.flags=T,(255&a.flags)!=8){k.msg="unknown compression method",a.mode=30;break}if(57344&a.flags){k.msg="unknown header flags set",a.mode=30;break}a.head&&(a.head.text=T>>8&1),512&a.flags&&(x[0]=255&T,x[1]=T>>>8&255,a.check=r(a.check,x,2,0)),z=T=0,a.mode=3;case 3:for(;z<32;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}a.head&&(a.head.time=T),512&a.flags&&(x[0]=255&T,x[1]=T>>>8&255,x[2]=T>>>16&255,x[3]=T>>>24&255,a.check=r(a.check,x,4,0)),z=T=0,a.mode=4;case 4:for(;z<16;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}a.head&&(a.head.xflags=255&T,a.head.os=T>>8),512&a.flags&&(x[0]=255&T,x[1]=T>>>8&255,a.check=r(a.check,x,2,0)),z=T=0,a.mode=5;case 5:if(1024&a.flags){for(;z<16;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}a.length=T,a.head&&(a.head.extra_len=T),512&a.flags&&(x[0]=255&T,x[1]=T>>>8&255,a.check=r(a.check,x,2,0)),z=T=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&($<(N=a.length)&&(N=$),N&&(a.head&&(e=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),i.arraySet(a.head.extra,j,W,N,e)),512&a.flags&&(a.check=r(a.check,j,N,W)),$-=N,W+=N,a.length-=N),a.length))break t;a.length=0,a.mode=7;case 7:if(2048&a.flags){if($===0)break t;for(N=0;e=j[W+N++],a.head&&e&&a.length<65536&&(a.head.name+=String.fromCharCode(e)),e&&N<$;);if(512&a.flags&&(a.check=r(a.check,j,N,W)),$-=N,W+=N,e)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if($===0)break t;for(N=0;e=j[W+N++],a.head&&e&&a.length<65536&&(a.head.comment+=String.fromCharCode(e)),e&&N<$;);if(512&a.flags&&(a.check=r(a.check,j,N,W)),$-=N,W+=N,e)break t}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;z<16;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}if(T!==(65535&a.check)){k.msg="header crc mismatch",a.mode=30;break}z=T=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),k.adler=a.check=0,a.mode=12;break;case 10:for(;z<32;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}k.adler=a.check=f(T),z=T=0,a.mode=11;case 11:if(a.havedict===0)return k.next_out=rt,k.avail_out=V,k.next_in=W,k.avail_in=$,a.hold=T,a.bits=z,2;k.adler=a.check=1,a.mode=12;case 12:if(I===5||I===6)break t;case 13:if(a.last){T>>>=7&z,z-=7&z,a.mode=27;break}for(;z<3;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}switch(a.last=1&T,z-=1,3&(T>>>=1)){case 0:a.mode=14;break;case 1:if(G(a),a.mode=20,I!==6)break;T>>>=2,z-=2;break t;case 2:a.mode=17;break;case 3:k.msg="invalid block type",a.mode=30}T>>>=2,z-=2;break;case 14:for(T>>>=7&z,z-=7&z;z<32;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}if((65535&T)!=(T>>>16^65535)){k.msg="invalid stored block lengths",a.mode=30;break}if(a.length=65535&T,z=T=0,a.mode=15,I===6)break t;case 15:a.mode=16;case 16:if(N=a.length){if($<N&&(N=$),V<N&&(N=V),N===0)break t;i.arraySet(tt,j,W,N,rt),$-=N,W+=N,V-=N,rt+=N,a.length-=N;break}a.mode=12;break;case 17:for(;z<14;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}if(a.nlen=257+(31&T),T>>>=5,z-=5,a.ndist=1+(31&T),T>>>=5,z-=5,a.ncode=4+(15&T),T>>>=4,z-=4,286<a.nlen||30<a.ndist){k.msg="too many length or distance symbols",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;z<3;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}a.lens[L[a.have++]]=7&T,T>>>=3,z-=3}for(;a.have<19;)a.lens[L[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,A={bits:a.lenbits},D=m(0,a.lens,0,19,a.lencode,0,a.work,A),a.lenbits=A.bits,D){k.msg="invalid code lengths set",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;Q=(u=a.lencode[T&(1<<a.lenbits)-1])>>>16&255,it=65535&u,!((J=u>>>24)<=z);){if($===0)break t;$--,T+=j[W++]<<z,z+=8}if(it<16)T>>>=J,z-=J,a.lens[a.have++]=it;else{if(it===16){for(g=J+2;z<g;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}if(T>>>=J,z-=J,a.have===0){k.msg="invalid bit length repeat",a.mode=30;break}e=a.lens[a.have-1],N=3+(3&T),T>>>=2,z-=2}else if(it===17){for(g=J+3;z<g;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}z-=J,e=0,N=3+(7&(T>>>=J)),T>>>=3,z-=3}else{for(g=J+7;z<g;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}z-=J,e=0,N=11+(127&(T>>>=J)),T>>>=7,z-=7}if(a.have+N>a.nlen+a.ndist){k.msg="invalid bit length repeat",a.mode=30;break}for(;N--;)a.lens[a.have++]=e}}if(a.mode===30)break;if(a.lens[256]===0){k.msg="invalid code -- missing end-of-block",a.mode=30;break}if(a.lenbits=9,A={bits:a.lenbits},D=m(v,a.lens,0,a.nlen,a.lencode,0,a.work,A),a.lenbits=A.bits,D){k.msg="invalid literal/lengths set",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,A={bits:a.distbits},D=m(d,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,A),a.distbits=A.bits,D){k.msg="invalid distances set",a.mode=30;break}if(a.mode=20,I===6)break t;case 20:a.mode=21;case 21:if(6<=$&&258<=V){k.next_out=rt,k.avail_out=V,k.next_in=W,k.avail_in=$,a.hold=T,a.bits=z,h(k,B),rt=k.next_out,tt=k.output,V=k.avail_out,W=k.next_in,j=k.input,$=k.avail_in,T=a.hold,z=a.bits,a.mode===12&&(a.back=-1);break}for(a.back=0;Q=(u=a.lencode[T&(1<<a.lenbits)-1])>>>16&255,it=65535&u,!((J=u>>>24)<=z);){if($===0)break t;$--,T+=j[W++]<<z,z+=8}if(Q&&!(240&Q)){for(at=J,lt=Q,ot=it;Q=(u=a.lencode[ot+((T&(1<<at+lt)-1)>>at)])>>>16&255,it=65535&u,!(at+(J=u>>>24)<=z);){if($===0)break t;$--,T+=j[W++]<<z,z+=8}T>>>=at,z-=at,a.back+=at}if(T>>>=J,z-=J,a.back+=J,a.length=it,Q===0){a.mode=26;break}if(32&Q){a.back=-1,a.mode=12;break}if(64&Q){k.msg="invalid literal/length code",a.mode=30;break}a.extra=15&Q,a.mode=22;case 22:if(a.extra){for(g=a.extra;z<g;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}a.length+=T&(1<<a.extra)-1,T>>>=a.extra,z-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;Q=(u=a.distcode[T&(1<<a.distbits)-1])>>>16&255,it=65535&u,!((J=u>>>24)<=z);){if($===0)break t;$--,T+=j[W++]<<z,z+=8}if(!(240&Q)){for(at=J,lt=Q,ot=it;Q=(u=a.distcode[ot+((T&(1<<at+lt)-1)>>at)])>>>16&255,it=65535&u,!(at+(J=u>>>24)<=z);){if($===0)break t;$--,T+=j[W++]<<z,z+=8}T>>>=at,z-=at,a.back+=at}if(T>>>=J,z-=J,a.back+=J,64&Q){k.msg="invalid distance code",a.mode=30;break}a.offset=it,a.extra=15&Q,a.mode=24;case 24:if(a.extra){for(g=a.extra;z<g;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}a.offset+=T&(1<<a.extra)-1,T>>>=a.extra,z-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){k.msg="invalid distance too far back",a.mode=30;break}a.mode=25;case 25:if(V===0)break t;if(N=B-V,a.offset>N){if((N=a.offset-N)>a.whave&&a.sane){k.msg="invalid distance too far back",a.mode=30;break}Y=N>a.wnext?(N-=a.wnext,a.wsize-N):a.wnext-N,N>a.length&&(N=a.length),nt=a.window}else nt=tt,Y=rt-a.offset,N=a.length;for(V<N&&(N=V),V-=N,a.length-=N;tt[rt++]=nt[Y++],--N;);a.length===0&&(a.mode=21);break;case 26:if(V===0)break t;tt[rt++]=a.length,V--,a.mode=21;break;case 27:if(a.wrap){for(;z<32;){if($===0)break t;$--,T|=j[W++]<<z,z+=8}if(B-=V,k.total_out+=B,a.total+=B,B&&(k.adler=a.check=a.flags?r(a.check,tt,B,rt-B):l(a.check,tt,B,rt-B)),B=V,(a.flags?T:f(T))!==a.check){k.msg="incorrect data check",a.mode=30;break}z=T=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;z<32;){if($===0)break t;$--,T+=j[W++]<<z,z+=8}if(T!==(4294967295&a.total)){k.msg="incorrect length check",a.mode=30;break}z=T=0}a.mode=29;case 29:D=1;break t;case 30:D=-3;break t;case 31:return-4;case 32:default:return n}return k.next_out=rt,k.avail_out=V,k.next_in=W,k.avail_in=$,a.hold=T,a.bits=z,(a.wsize||B!==k.avail_out&&a.mode<30&&(a.mode<27||I!==4))&&q(k,k.output,k.next_out,B-k.avail_out)?(a.mode=31,-4):(X-=k.avail_in,B-=k.avail_out,k.total_in+=X,k.total_out+=B,a.total+=B,a.wrap&&B&&(k.adler=a.check=a.flags?r(a.check,tt,B,k.next_out-B):l(a.check,tt,B,k.next_out-B)),k.data_type=a.bits+(a.last?64:0)+(a.mode===12?128:0)+(a.mode===20||a.mode===15?256:0),(X==0&&B===0||I===4)&&D===b&&(D=-5),D)},o.inflateEnd=function(k){if(!k||!k.state)return n;var I=k.state;return I.window&&(I.window=null),k.state=null,b},o.inflateGetHeader=function(k,I){var a;return k&&k.state&&2&(a=k.state).wrap?((a.head=I).done=!1,b):n},o.inflateSetDictionary=function(k,I){var a,j=I.length;return k&&k.state?(a=k.state).wrap!==0&&a.mode!==11?n:a.mode===11&&l(1,I,j,0)!==a.check?-3:q(k,I,j,j)?(a.mode=31,-4):(a.havedict=1,b):n},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,s,o){"use strict";var i=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(v,d,b,n,p,c,_,f){var y,w,S,C,U,R,H,O,G,q=f.bits,k=0,I=0,a=0,j=0,tt=0,W=0,rt=0,$=0,V=0,T=0,z=null,X=0,B=new i.Buf16(16),N=new i.Buf16(16),Y=null,nt=0;for(k=0;k<=15;k++)B[k]=0;for(I=0;I<n;I++)B[d[b+I]]++;for(tt=q,j=15;1<=j&&B[j]===0;j--);if(j<tt&&(tt=j),j===0)return p[c++]=20971520,p[c++]=20971520,f.bits=1,0;for(a=1;a<j&&B[a]===0;a++);for(tt<a&&(tt=a),k=$=1;k<=15;k++)if($<<=1,($-=B[k])<0)return-1;if(0<$&&(v===0||j!==1))return-1;for(N[1]=0,k=1;k<15;k++)N[k+1]=N[k]+B[k];for(I=0;I<n;I++)d[b+I]!==0&&(_[N[d[b+I]]++]=I);if(R=v===0?(z=Y=_,19):v===1?(z=l,X-=257,Y=r,nt-=257,256):(z=h,Y=m,-1),k=a,U=c,rt=I=T=0,S=-1,C=(V=1<<(W=tt))-1,v===1&&852<V||v===2&&592<V)return 1;for(;;){for(H=k-rt,G=_[I]<R?(O=0,_[I]):_[I]>R?(O=Y[nt+_[I]],z[X+_[I]]):(O=96,0),y=1<<k-rt,a=w=1<<W;p[U+(T>>rt)+(w-=y)]=H<<24|O<<16|G|0,w!==0;);for(y=1<<k-1;T&y;)y>>=1;if(y!==0?(T&=y-1,T+=y):T=0,I++,--B[k]==0){if(k===j)break;k=d[b+_[I]]}if(tt<k&&(T&C)!==S){for(rt===0&&(rt=tt),U+=a,$=1<<(W=k-rt);W+rt<j&&!(($-=B[W+rt])<=0);)W++,$<<=1;if(V+=1<<W,v===1&&852<V||v===2&&592<V)return 1;p[S=T&C]=tt<<24|W<<16|U-c|0}}return T!==0&&(p[U+T]=k-rt<<24|64<<16|0),f.bits=tt,0}},{"../utils/common":41}],51:[function(t,s,o){"use strict";s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,s,o){"use strict";var i=t("../utils/common"),l=0,r=1;function h(u){for(var x=u.length;0<=--x;)u[x]=0}var m=0,v=29,d=256,b=d+1+v,n=30,p=19,c=2*b+1,_=15,f=16,y=7,w=256,S=16,C=17,U=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(b+2));h(q);var k=new Array(2*n);h(k);var I=new Array(512);h(I);var a=new Array(256);h(a);var j=new Array(v);h(j);var tt,W,rt,$=new Array(n);function V(u,x,L,F,E){this.static_tree=u,this.extra_bits=x,this.extra_base=L,this.elems=F,this.max_length=E,this.has_stree=u&&u.length}function T(u,x){this.dyn_tree=u,this.max_code=0,this.stat_desc=x}function z(u){return u<256?I[u]:I[256+(u>>>7)]}function X(u,x){u.pending_buf[u.pending++]=255&x,u.pending_buf[u.pending++]=x>>>8&255}function B(u,x,L){u.bi_valid>f-L?(u.bi_buf|=x<<u.bi_valid&65535,X(u,u.bi_buf),u.bi_buf=x>>f-u.bi_valid,u.bi_valid+=L-f):(u.bi_buf|=x<<u.bi_valid&65535,u.bi_valid+=L)}function N(u,x,L){B(u,L[2*x],L[2*x+1])}function Y(u,x){for(var L=0;L|=1&u,u>>>=1,L<<=1,0<--x;);return L>>>1}function nt(u,x,L){var F,E,P=new Array(_+1),M=0;for(F=1;F<=_;F++)P[F]=M=M+L[F-1]<<1;for(E=0;E<=x;E++){var Z=u[2*E+1];Z!==0&&(u[2*E]=Y(P[Z]++,Z))}}function J(u){var x;for(x=0;x<b;x++)u.dyn_ltree[2*x]=0;for(x=0;x<n;x++)u.dyn_dtree[2*x]=0;for(x=0;x<p;x++)u.bl_tree[2*x]=0;u.dyn_ltree[2*w]=1,u.opt_len=u.static_len=0,u.last_lit=u.matches=0}function Q(u){8<u.bi_valid?X(u,u.bi_buf):0<u.bi_valid&&(u.pending_buf[u.pending++]=u.bi_buf),u.bi_buf=0,u.bi_valid=0}function it(u,x,L,F){var E=2*x,P=2*L;return u[E]<u[P]||u[E]===u[P]&&F[x]<=F[L]}function at(u,x,L){for(var F=u.heap[L],E=L<<1;E<=u.heap_len&&(E<u.heap_len&&it(x,u.heap[E+1],u.heap[E],u.depth)&&E++,!it(x,F,u.heap[E],u.depth));)u.heap[L]=u.heap[E],L=E,E<<=1;u.heap[L]=F}function lt(u,x,L){var F,E,P,M,Z=0;if(u.last_lit!==0)for(;F=u.pending_buf[u.d_buf+2*Z]<<8|u.pending_buf[u.d_buf+2*Z+1],E=u.pending_buf[u.l_buf+Z],Z++,F===0?N(u,E,x):(N(u,(P=a[E])+d+1,x),(M=R[P])!==0&&B(u,E-=j[P],M),N(u,P=z(--F),L),(M=H[P])!==0&&B(u,F-=$[P],M)),Z<u.last_lit;);N(u,w,x)}function ot(u,x){var L,F,E,P=x.dyn_tree,M=x.stat_desc.static_tree,Z=x.stat_desc.has_stree,K=x.stat_desc.elems,st=-1;for(u.heap_len=0,u.heap_max=c,L=0;L<K;L++)P[2*L]!==0?(u.heap[++u.heap_len]=st=L,u.depth[L]=0):P[2*L+1]=0;for(;u.heap_len<2;)P[2*(E=u.heap[++u.heap_len]=st<2?++st:0)]=1,u.depth[E]=0,u.opt_len--,Z&&(u.static_len-=M[2*E+1]);for(x.max_code=st,L=u.heap_len>>1;1<=L;L--)at(u,P,L);for(E=K;L=u.heap[1],u.heap[1]=u.heap[u.heap_len--],at(u,P,1),F=u.heap[1],u.heap[--u.heap_max]=L,u.heap[--u.heap_max]=F,P[2*E]=P[2*L]+P[2*F],u.depth[E]=(u.depth[L]>=u.depth[F]?u.depth[L]:u.depth[F])+1,P[2*L+1]=P[2*F+1]=E,u.heap[1]=E++,at(u,P,1),2<=u.heap_len;);u.heap[--u.heap_max]=u.heap[1],function(et,ft){var gt,mt,xt,ct,zt,Ut,bt=ft.dyn_tree,Vt=ft.max_code,Oe=ft.stat_desc.static_tree,Pe=ft.stat_desc.has_stree,Re=ft.stat_desc.extra_bits,Qt=ft.stat_desc.extra_base,St=ft.stat_desc.max_length,At=0;for(ct=0;ct<=_;ct++)et.bl_count[ct]=0;for(bt[2*et.heap[et.heap_max]+1]=0,gt=et.heap_max+1;gt<c;gt++)St<(ct=bt[2*bt[2*(mt=et.heap[gt])+1]+1]+1)&&(ct=St,At++),bt[2*mt+1]=ct,Vt<mt||(et.bl_count[ct]++,zt=0,Qt<=mt&&(zt=Re[mt-Qt]),Ut=bt[2*mt],et.opt_len+=Ut*(ct+zt),Pe&&(et.static_len+=Ut*(Oe[2*mt+1]+zt)));if(At!==0){do{for(ct=St-1;et.bl_count[ct]===0;)ct--;et.bl_count[ct]--,et.bl_count[ct+1]+=2,et.bl_count[St]--,At-=2}while(0<At);for(ct=St;ct!==0;ct--)for(mt=et.bl_count[ct];mt!==0;)Vt<(xt=et.heap[--gt])||(bt[2*xt+1]!==ct&&(et.opt_len+=(ct-bt[2*xt+1])*bt[2*xt],bt[2*xt+1]=ct),mt--)}}(u,x),nt(P,st,u.bl_count)}function e(u,x,L){var F,E,P=-1,M=x[1],Z=0,K=7,st=4;for(M===0&&(K=138,st=3),x[2*(L+1)+1]=65535,F=0;F<=L;F++)E=M,M=x[2*(F+1)+1],++Z<K&&E===M||(Z<st?u.bl_tree[2*E]+=Z:E!==0?(E!==P&&u.bl_tree[2*E]++,u.bl_tree[2*S]++):Z<=10?u.bl_tree[2*C]++:u.bl_tree[2*U]++,P=E,st=(Z=0)===M?(K=138,3):E===M?(K=6,3):(K=7,4))}function D(u,x,L){var F,E,P=-1,M=x[1],Z=0,K=7,st=4;for(M===0&&(K=138,st=3),F=0;F<=L;F++)if(E=M,M=x[2*(F+1)+1],!(++Z<K&&E===M)){if(Z<st)for(;N(u,E,u.bl_tree),--Z!=0;);else E!==0?(E!==P&&(N(u,E,u.bl_tree),Z--),N(u,S,u.bl_tree),B(u,Z-3,2)):Z<=10?(N(u,C,u.bl_tree),B(u,Z-3,3)):(N(u,U,u.bl_tree),B(u,Z-11,7));P=E,st=(Z=0)===M?(K=138,3):E===M?(K=6,3):(K=7,4)}}h($);var A=!1;function g(u,x,L,F){B(u,(m<<1)+(F?1:0),3),function(E,P,M,Z){Q(E),Z&&(X(E,M),X(E,~M)),i.arraySet(E.pending_buf,E.window,P,M,E.pending),E.pending+=M}(u,x,L,!0)}o._tr_init=function(u){A||(function(){var x,L,F,E,P,M=new Array(_+1);for(E=F=0;E<v-1;E++)for(j[E]=F,x=0;x<1<<R[E];x++)a[F++]=E;for(a[F-1]=E,E=P=0;E<16;E++)for($[E]=P,x=0;x<1<<H[E];x++)I[P++]=E;for(P>>=7;E<n;E++)for($[E]=P<<7,x=0;x<1<<H[E]-7;x++)I[256+P++]=E;for(L=0;L<=_;L++)M[L]=0;for(x=0;x<=143;)q[2*x+1]=8,x++,M[8]++;for(;x<=255;)q[2*x+1]=9,x++,M[9]++;for(;x<=279;)q[2*x+1]=7,x++,M[7]++;for(;x<=287;)q[2*x+1]=8,x++,M[8]++;for(nt(q,b+1,M),x=0;x<n;x++)k[2*x+1]=5,k[2*x]=Y(x,5);tt=new V(q,R,d+1,b,_),W=new V(k,H,0,n,_),rt=new V(new Array(0),O,0,p,y)}(),A=!0),u.l_desc=new T(u.dyn_ltree,tt),u.d_desc=new T(u.dyn_dtree,W),u.bl_desc=new T(u.bl_tree,rt),u.bi_buf=0,u.bi_valid=0,J(u)},o._tr_stored_block=g,o._tr_flush_block=function(u,x,L,F){var E,P,M=0;0<u.level?(u.strm.data_type===2&&(u.strm.data_type=function(Z){var K,st=4093624447;for(K=0;K<=31;K++,st>>>=1)if(1&st&&Z.dyn_ltree[2*K]!==0)return l;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return r;for(K=32;K<d;K++)if(Z.dyn_ltree[2*K]!==0)return r;return l}(u)),ot(u,u.l_desc),ot(u,u.d_desc),M=function(Z){var K;for(e(Z,Z.dyn_ltree,Z.l_desc.max_code),e(Z,Z.dyn_dtree,Z.d_desc.max_code),ot(Z,Z.bl_desc),K=p-1;3<=K&&Z.bl_tree[2*G[K]+1]===0;K--);return Z.opt_len+=3*(K+1)+5+5+4,K}(u),E=u.opt_len+3+7>>>3,(P=u.static_len+3+7>>>3)<=E&&(E=P)):E=P=L+5,L+4<=E&&x!==-1?g(u,x,L,F):u.strategy===4||P===E?(B(u,2+(F?1:0),3),lt(u,q,k)):(B(u,4+(F?1:0),3),function(Z,K,st,et){var ft;for(B(Z,K-257,5),B(Z,st-1,5),B(Z,et-4,4),ft=0;ft<et;ft++)B(Z,Z.bl_tree[2*G[ft]+1],3);D(Z,Z.dyn_ltree,K-1),D(Z,Z.dyn_dtree,st-1)}(u,u.l_desc.max_code+1,u.d_desc.max_code+1,M+1),lt(u,u.dyn_ltree,u.dyn_dtree)),J(u),F&&Q(u)},o._tr_tally=function(u,x,L){return u.pending_buf[u.d_buf+2*u.last_lit]=x>>>8&255,u.pending_buf[u.d_buf+2*u.last_lit+1]=255&x,u.pending_buf[u.l_buf+u.last_lit]=255&L,u.last_lit++,x===0?u.dyn_ltree[2*L]++:(u.matches++,x--,u.dyn_ltree[2*(a[L]+d+1)]++,u.dyn_dtree[2*z(x)]++),u.last_lit===u.lit_bufsize-1},o._tr_align=function(u){B(u,2,3),N(u,w,q),function(x){x.bi_valid===16?(X(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}(u)}},{"../utils/common":41}],53:[function(t,s,o){"use strict";s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,s,o){(function(i){(function(l,r){"use strict";if(!l.setImmediate){var h,m,v,d,b=1,n={},p=!1,c=l.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(l);_=_&&_.setTimeout?_:l,h={}.toString.call(l.process)==="[object process]"?function(S){process.nextTick(function(){y(S)})}:function(){if(l.postMessage&&!l.importScripts){var S=!0,C=l.onmessage;return l.onmessage=function(){S=!1},l.postMessage("","*"),l.onmessage=C,S}}()?(d="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",w,!1):l.attachEvent("onmessage",w),function(S){l.postMessage(d+S,"*")}):l.MessageChannel?((v=new MessageChannel).port1.onmessage=function(S){y(S.data)},function(S){v.port2.postMessage(S)}):c&&"onreadystatechange"in c.createElement("script")?(m=c.documentElement,function(S){var C=c.createElement("script");C.onreadystatechange=function(){y(S),C.onreadystatechange=null,m.removeChild(C),C=null},m.appendChild(C)}):function(S){setTimeout(y,0,S)},_.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var C=new Array(arguments.length-1),U=0;U<C.length;U++)C[U]=arguments[U+1];var R={callback:S,args:C};return n[b]=R,h(b),b++},_.clearImmediate=f}function f(S){delete n[S]}function y(S){if(p)setTimeout(y,0,S);else{var C=n[S];if(C){p=!0;try{(function(U){var R=U.callback,H=U.args;switch(H.length){case 0:R();break;case 1:R(H[0]);break;case 2:R(H[0],H[1]);break;case 3:R(H[0],H[1],H[2]);break;default:R.apply(r,H)}})(C)}finally{f(S),p=!1}}}}function w(S){S.source===l&&typeof S.data=="string"&&S.data.indexOf(d)===0&&y(+S.data.slice(d.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var Dt,ht,ae,Ze,wt,ee,se,oe,le,Mt,Lt,$t,Ge,Et={},he=[],Je=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ot=Array.isArray;function yt(t,s){for(var o in s)t[o]=s[o];return t}function Wt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ht(t,s,o){var i,l,r,h={};for(r in s)r=="key"?i=s[r]:r=="ref"?l=s[r]:h[r]=s[r];if(arguments.length>2&&(h.children=arguments.length>3?Dt.call(arguments,2):o),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)h[r]===void 0&&(h[r]=t.defaultProps[r]);return It(t,h,i,l,null)}function It(t,s,o,i,l){var r={type:t,props:s,key:o,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++ae,__i:-1,__u:0};return l==null&&ht.vnode!=null&&ht.vnode(r),r}function Pt(t){return t.children}function Tt(t,s){this.props=t,this.context=s}function kt(t,s){if(s==null)return t.__?kt(t.__,t.__i+1):null;for(var o;s<t.__k.length;s++)if((o=t.__k[s])!=null&&o.__e!=null)return o.__e;return typeof t.type=="function"?kt(t):null}function ce(t){var s,o;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,s=0;s<t.__k.length;s++)if((o=t.__k[s])!=null&&o.__e!=null){t.__e=t.__c.base=o.__e;break}return ce(t)}}function re(t){(!t.__d&&(t.__d=!0)&&wt.push(t)&&!Ft.__r++||ee!=ht.debounceRendering)&&((ee=ht.debounceRendering)||se)(Ft)}function Ft(){for(var t,s,o,i,l,r,h,m=1;wt.length;)wt.length>m&&wt.sort(oe),t=wt.shift(),m=wt.length,t.__d&&(o=void 0,i=void 0,l=(i=(s=t).__v).__e,r=[],h=[],s.__P&&((o=yt({},i)).__v=i.__v+1,ht.vnode&&ht.vnode(o),Zt(s.__P,o,i,s.__n,s.__P.namespaceURI,32&i.__u?[l]:null,r,l??kt(i),!!(32&i.__u),h),o.__v=i.__v,o.__.__k[o.__i]=o,fe(r,o,h),i.__e=i.__=null,o.__e!=l&&ce(o)));Ft.__r=0}function ue(t,s,o,i,l,r,h,m,v,d,b){var n,p,c,_,f,y,w,S=i&&i.__k||he,C=s.length;for(v=Ke(o,s,S,v,C),n=0;n<C;n++)(c=o.__k[n])!=null&&(p=c.__i==-1?Et:S[c.__i]||Et,c.__i=n,y=Zt(t,c,p,l,r,h,m,v,d,b),_=c.__e,c.ref&&p.ref!=c.ref&&(p.ref&&Gt(p.ref,null,c),b.push(c.ref,c.__c||_,c)),f==null&&_!=null&&(f=_),(w=!!(4&c.__u))||p.__k===c.__k?v=de(c,v,t,w):typeof c.type=="function"&&y!==void 0?v=y:_&&(v=_.nextSibling),c.__u&=-7);return o.__e=f,v}function Ke(t,s,o,i,l){var r,h,m,v,d,b=o.length,n=b,p=0;for(t.__k=new Array(l),r=0;r<l;r++)(h=s[r])!=null&&typeof h!="boolean"&&typeof h!="function"?(typeof h=="string"||typeof h=="number"||typeof h=="bigint"||h.constructor==String?h=t.__k[r]=It(null,h,null,null,null):Ot(h)?h=t.__k[r]=It(Pt,{children:h},null,null,null):h.constructor==null&&h.__b>0?h=t.__k[r]=It(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):t.__k[r]=h,v=r+p,h.__=t,h.__b=t.__b+1,m=null,(d=h.__i=qe(h,o,v,n))!=-1&&(n--,(m=o[d])&&(m.__u|=2)),m==null||m.__v==null?(d==-1&&(l>b?p--:l<b&&p++),typeof h.type!="function"&&(h.__u|=4)):d!=v&&(d==v-1?p--:d==v+1?p++:(d>v?p--:p++,h.__u|=4))):t.__k[r]=null;if(n)for(r=0;r<b;r++)(m=o[r])!=null&&!(2&m.__u)&&(m.__e==i&&(i=kt(m)),_e(m,m));return i}function de(t,s,o,i){var l,r;if(typeof t.type=="function"){for(l=t.__k,r=0;l&&r<l.length;r++)l[r]&&(l[r].__=t,s=de(l[r],s,o,i));return s}t.__e!=s&&(i&&(s&&t.type&&!s.parentNode&&(s=kt(t)),o.insertBefore(t.__e,s||null)),s=t.__e);do s=s&&s.nextSibling;while(s!=null&&s.nodeType==8);return s}function qe(t,s,o,i){var l,r,h,m=t.key,v=t.type,d=s[o],b=d!=null&&(2&d.__u)==0;if(d===null&&m==null||b&&m==d.key&&v==d.type)return o;if(i>(b?1:0)){for(l=o-1,r=o+1;l>=0||r<s.length;)if((d=s[h=l>=0?l--:r++])!=null&&!(2&d.__u)&&m==d.key&&v==d.type)return h}return-1}function ne(t,s,o){s[0]=="-"?t.setProperty(s,o??""):t[s]=o==null?"":typeof o!="number"||Je.test(s)?o:o+"px"}function Bt(t,s,o,i,l){var r,h;t:if(s=="style")if(typeof o=="string")t.style.cssText=o;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(s in i)o&&s in o||ne(t.style,s,"");if(o)for(s in o)i&&o[s]==i[s]||ne(t.style,s,o[s])}else if(s[0]=="o"&&s[1]=="n")r=s!=(s=s.replace(le,"$1")),h=s.toLowerCase(),s=h in t||s=="onFocusOut"||s=="onFocusIn"?h.slice(2):s.slice(2),t.l||(t.l={}),t.l[s+r]=o,o?i?o.u=i.u:(o.u=Mt,t.addEventListener(s,r?$t:Lt,r)):t.removeEventListener(s,r?$t:Lt,r);else{if(l=="http://www.w3.org/2000/svg")s=s.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(s!="width"&&s!="height"&&s!="href"&&s!="list"&&s!="form"&&s!="tabIndex"&&s!="download"&&s!="rowSpan"&&s!="colSpan"&&s!="role"&&s!="popover"&&s in t)try{t[s]=o??"";break t}catch{}typeof o=="function"||(o==null||o===!1&&s[4]!="-"?t.removeAttribute(s):t.setAttribute(s,s=="popover"&&o==1?"":o))}}function ie(t){return function(s){if(this.l){var o=this.l[s.type+t];if(s.t==null)s.t=Mt++;else if(s.t<o.u)return;return o(ht.event?ht.event(s):s)}}}function Zt(t,s,o,i,l,r,h,m,v,d){var b,n,p,c,_,f,y,w,S,C,U,R,H,O,G,q,k,I=s.type;if(s.constructor!=null)return null;128&o.__u&&(v=!!(32&o.__u),r=[m=s.__e=o.__e]),(b=ht.__b)&&b(s);t:if(typeof I=="function")try{if(w=s.props,S="prototype"in I&&I.prototype.render,C=(b=I.contextType)&&i[b.__c],U=b?C?C.props.value:b.__:i,o.__c?y=(n=s.__c=o.__c).__=n.__E:(S?s.__c=n=new I(w,U):(s.__c=n=new Tt(w,U),n.constructor=I,n.render=Xe),C&&C.sub(n),n.state||(n.state={}),n.__n=i,p=n.__d=!0,n.__h=[],n._sb=[]),S&&n.__s==null&&(n.__s=n.state),S&&I.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=yt({},n.__s)),yt(n.__s,I.getDerivedStateFromProps(w,n.__s))),c=n.props,_=n.state,n.__v=s,p)S&&I.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),S&&n.componentDidMount!=null&&n.__h.push(n.componentDidMount);else{if(S&&I.getDerivedStateFromProps==null&&w!==c&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(w,U),s.__v==o.__v||!n.__e&&n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(w,n.__s,U)===!1){for(s.__v!=o.__v&&(n.props=w,n.state=n.__s,n.__d=!1),s.__e=o.__e,s.__k=o.__k,s.__k.some(function(a){a&&(a.__=s)}),R=0;R<n._sb.length;R++)n.__h.push(n._sb[R]);n._sb=[],n.__h.length&&h.push(n);break t}n.componentWillUpdate!=null&&n.componentWillUpdate(w,n.__s,U),S&&n.componentDidUpdate!=null&&n.__h.push(function(){n.componentDidUpdate(c,_,f)})}if(n.context=U,n.props=w,n.__P=t,n.__e=!1,H=ht.__r,O=0,S){for(n.state=n.__s,n.__d=!1,H&&H(s),b=n.render(n.props,n.state,n.context),G=0;G<n._sb.length;G++)n.__h.push(n._sb[G]);n._sb=[]}else do n.__d=!1,H&&H(s),b=n.render(n.props,n.state,n.context),n.state=n.__s;while(n.__d&&++O<25);n.state=n.__s,n.getChildContext!=null&&(i=yt(yt({},i),n.getChildContext())),S&&!p&&n.getSnapshotBeforeUpdate!=null&&(f=n.getSnapshotBeforeUpdate(c,_)),q=b,b!=null&&b.type===Pt&&b.key==null&&(q=pe(b.props.children)),m=ue(t,Ot(q)?q:[q],s,o,i,l,r,h,m,v,d),n.base=s.__e,s.__u&=-161,n.__h.length&&h.push(n),y&&(n.__E=n.__=null)}catch(a){if(s.__v=null,v||r!=null)if(a.then){for(s.__u|=v?160:128;m&&m.nodeType==8&&m.nextSibling;)m=m.nextSibling;r[r.indexOf(m)]=null,s.__e=m}else{for(k=r.length;k--;)Wt(r[k]);jt(s)}else s.__e=o.__e,s.__k=o.__k,a.then||jt(s);ht.__e(a,s,o)}else r==null&&s.__v==o.__v?(s.__k=o.__k,s.__e=o.__e):m=s.__e=Ye(o.__e,s,o,i,l,r,h,v,d);return(b=ht.diffed)&&b(s),128&s.__u?void 0:m}function jt(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(jt)}function fe(t,s,o){for(var i=0;i<o.length;i++)Gt(o[i],o[++i],o[++i]);ht.__c&&ht.__c(s,t),t.some(function(l){try{t=l.__h,l.__h=[],t.some(function(r){r.call(l)})}catch(r){ht.__e(r,l.__v)}})}function pe(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Ot(t)?t.map(pe):yt({},t)}function Ye(t,s,o,i,l,r,h,m,v){var d,b,n,p,c,_,f,y=o.props||Et,w=s.props,S=s.type;if(S=="svg"?l="http://www.w3.org/2000/svg":S=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),r!=null){for(d=0;d<r.length;d++)if((c=r[d])&&"setAttribute"in c==!!S&&(S?c.localName==S:c.nodeType==3)){t=c,r[d]=null;break}}if(t==null){if(S==null)return document.createTextNode(w);t=document.createElementNS(l,S,w.is&&w),m&&(ht.__m&&ht.__m(s,r),m=!1),r=null}if(S==null)y===w||m&&t.data==w||(t.data=w);else{if(r=r&&Dt.call(t.childNodes),!m&&r!=null)for(y={},d=0;d<t.attributes.length;d++)y[(c=t.attributes[d]).name]=c.value;for(d in y)if(c=y[d],d!="children"){if(d=="dangerouslySetInnerHTML")n=c;else if(!(d in w)){if(d=="value"&&"defaultValue"in w||d=="checked"&&"defaultChecked"in w)continue;Bt(t,d,null,c,l)}}for(d in w)c=w[d],d=="children"?p=c:d=="dangerouslySetInnerHTML"?b=c:d=="value"?_=c:d=="checked"?f=c:m&&typeof c!="function"||y[d]===c||Bt(t,d,c,y[d],l);if(b)m||n&&(b.__html==n.__html||b.__html==t.innerHTML)||(t.innerHTML=b.__html),s.__k=[];else if(n&&(t.innerHTML=""),ue(s.type=="template"?t.content:t,Ot(p)?p:[p],s,o,i,S=="foreignObject"?"http://www.w3.org/1999/xhtml":l,r,h,r?r[0]:o.__k&&kt(o,0),m,v),r!=null)for(d=r.length;d--;)Wt(r[d]);m||(d="value",S=="progress"&&_==null?t.removeAttribute("value"):_!=null&&(_!==t[d]||S=="progress"&&!_||S=="option"&&_!=y[d])&&Bt(t,d,_,y[d],l),d="checked",f!=null&&f!=t[d]&&Bt(t,d,f,y[d],l))}return t}function Gt(t,s,o){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&s==null||(t.__u=t(s))}else t.current=s}catch(l){ht.__e(l,o)}}function _e(t,s,o){var i,l;if(ht.unmount&&ht.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||Gt(i,null,s)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){ht.__e(r,s)}i.base=i.__P=null}if(i=t.__k)for(l=0;l<i.length;l++)i[l]&&_e(i[l],s,o||typeof t.type!="function");o||Wt(t.__e),t.__c=t.__=t.__e=void 0}function Xe(t,s,o){return this.constructor(t,o)}function me(t,s,o){var i,l,r,h;s==document&&(s=document.documentElement),ht.__&&ht.__(t,s),l=(i=typeof o=="function")?null:o&&o.__k||s.__k,r=[],h=[],Zt(s,t=(!i&&o||s).__k=Ht(Pt,null,[t]),l||Et,Et,s.namespaceURI,!i&&o?[o]:l?null:s.firstChild?Dt.call(s.childNodes):null,r,!i&&o?o:l?l.__e:s.firstChild,i,h),fe(r,t,h)}Dt=he.slice,ht={__e:function(t,s,o,i){for(var l,r,h;s=s.__;)if((l=s.__c)&&!l.__)try{if((r=l.constructor)&&r.getDerivedStateFromError!=null&&(l.setState(r.getDerivedStateFromError(t)),h=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,i||{}),h=l.__d),h)return l.__E=l}catch(m){t=m}throw t}},ae=0,Ze=function(t){return t!=null&&t.constructor==null},Tt.prototype.setState=function(t,s){var o;o=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=yt({},this.state),typeof t=="function"&&(t=t(yt({},o),this.props)),t&&yt(o,t),t!=null&&this.__v&&(s&&this._sb.push(s),re(this))},Tt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),re(this))},Tt.prototype.render=Pt,wt=[],se=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,oe=function(t,s){return t.__v.__b-s.__v.__b},Ft.__r=0,le=/(PointerCapture)$|Capture$/i,Mt=0,Lt=ie(!1),$t=ie(!0),Ge=0;var Nt,ut,Jt,ge,Kt=0,Ce=[],dt=ht,be=dt.__b,ye=dt.__r,ve=dt.diffed,we=dt.__c,ke=dt.unmount,xe=dt.__;function Ee(t,s){dt.__h&&dt.__h(ut,t,Kt||s),Kt=0;var o=ut.__H||(ut.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function pt(t){return Kt=1,Ve(ze,t)}function Ve(t,s,o){var i=Ee(Nt++,2);if(i.t=t,!i.__c&&(i.__=[o?o(s):ze(void 0,s),function(m){var v=i.__N?i.__N[0]:i.__[0],d=i.t(v,m);v!==d&&(i.__N=[d,i.__[1]],i.__c.setState({}))}],i.__c=ut,!ut.__f)){var l=function(m,v,d){if(!i.__c.__H)return!0;var b=i.__c.__H.__.filter(function(p){return!!p.__c});if(b.every(function(p){return!p.__N}))return!r||r.call(this,m,v,d);var n=i.__c.props!==m;return b.forEach(function(p){if(p.__N){var c=p.__[0];p.__=p.__N,p.__N=void 0,c!==p.__[0]&&(n=!0)}}),r&&r.call(this,m,v,d)||n};ut.__f=!0;var r=ut.shouldComponentUpdate,h=ut.componentWillUpdate;ut.componentWillUpdate=function(m,v,d){if(this.__e){var b=r;r=void 0,l(m,v,d),r=b}h&&h.call(this,m,v,d)},ut.shouldComponentUpdate=l}return i.__N||i.__}function Yt(t,s){var o=Ee(Nt++,7);return er(o.__H,s)&&(o.__=t(),o.__H=s,o.__h=t),o.__}function Qe(){for(var t;t=Ce.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Rt),t.__H.__h.forEach(qt),t.__H.__h=[]}catch(s){t.__H.__h=[],dt.__e(s,t.__v)}}dt.__b=function(t){ut=null,be&&be(t)},dt.__=function(t,s){t&&s.__k&&s.__k.__m&&(t.__m=s.__k.__m),xe&&xe(t,s)},dt.__r=function(t){ye&&ye(t),Nt=0;var s=(ut=t.__c).__H;s&&(Jt===ut?(s.__h=[],ut.__h=[],s.__.forEach(function(o){o.__N&&(o.__=o.__N),o.u=o.__N=void 0})):(s.__h.forEach(Rt),s.__h.forEach(qt),s.__h=[],Nt=0)),Jt=ut},dt.diffed=function(t){ve&&ve(t);var s=t.__c;s&&s.__H&&(s.__H.__h.length&&(Ce.push(s)!==1&&ge===dt.requestAnimationFrame||((ge=dt.requestAnimationFrame)||tr)(Qe)),s.__H.__.forEach(function(o){o.u&&(o.__H=o.u),o.u=void 0})),Jt=ut=null},dt.__c=function(t,s){s.some(function(o){try{o.__h.forEach(Rt),o.__h=o.__h.filter(function(i){return!i.__||qt(i)})}catch(i){s.some(function(l){l.__h&&(l.__h=[])}),s=[],dt.__e(i,o.__v)}}),we&&we(t,s)},dt.unmount=function(t){ke&&ke(t);var s,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(i){try{Rt(i)}catch(l){s=l}}),o.__H=void 0,s&&dt.__e(s,o.__v))};var Se=typeof requestAnimationFrame=="function";function tr(t){var s,o=function(){clearTimeout(i),Se&&cancelAnimationFrame(s),setTimeout(t)},i=setTimeout(o,35);Se&&(s=requestAnimationFrame(o))}function Rt(t){var s=ut,o=t.__c;typeof o=="function"&&(t.__c=void 0,o()),ut=s}function qt(t){var s=ut;t.__c=t.__(),ut=s}function er(t,s){return!t||t.length!==s.length||s.some(function(o,i){return o!==t[i]})}function ze(t,s){return typeof s=="function"?s(t):s}var Be=function(t,s,o,i){var l;s[0]=0;for(var r=1;r<s.length;r++){var h=s[r++],m=s[r]?(s[0]|=h?1:2,o[s[r++]]):s[++r];h===3?i[0]=m:h===4?i[1]=Object.assign(i[1]||{},m):h===5?(i[1]=i[1]||{})[s[++r]]=m:h===6?i[1][s[++r]]+=m+"":h?(l=t.apply(m,Be(t,m,o,["",null])),i.push(l),m[0]?s[0]|=2:(s[r-2]=0,s[r]=l)):i.push(m)}return i},Ae=new Map;function Ie(t){var s=Ae.get(this);return s||(s=new Map,Ae.set(this,s)),(s=Be(this,s.get(t)||(s.set(t,s=function(o){for(var i,l,r=1,h="",m="",v=[0],d=function(p){r===1&&(p||(h=h.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?v.push(0,p,h):r===3&&(p||h)?(v.push(3,p,h),r=2):r===2&&h==="..."&&p?v.push(4,p,0):r===2&&h&&!p?v.push(5,0,!0,h):r>=5&&((h||!p&&r===5)&&(v.push(r,0,h,l),r=6),p&&(v.push(r,p,0,l),r=6)),h=""},b=0;b<o.length;b++){b&&(r===1&&d(),d(b));for(var n=0;n<o[b].length;n++)i=o[b][n],r===1?i==="<"?(d(),v=[v],r=3):h+=i:r===4?h==="--"&&i===">"?(r=1,h=""):h=i+h[0]:m?i===m?m="":h+=i:i==='"'||i==="'"?m=i:i===">"?(d(),r=1):r&&(i==="="?(r=5,l=h,h=""):i==="/"&&(r<5||o[b][n+1]===">")?(d(),r===3&&(v=v[0]),r=v,(v=v[0]).push(2,0,r),r=0):i===" "||i==="	"||i===`
`||i==="\r"?(d(),r=2):h+=i),r===3&&h==="!--"&&(r=4,v=v[0])}return d(),v}(t)),s),arguments,[])).length>1?s:s[0]}var De=He(Fe());var vt=[{name:"Genesis",startFile:1,chapters:50},{name:"Exodus",startFile:51,chapters:40},{name:"Leviticus",startFile:91,chapters:27},{name:"Numbers",startFile:118,chapters:36},{name:"Deuteronomy",startFile:154,chapters:34},{name:"Joshua",startFile:188,chapters:24},{name:"Judges",startFile:212,chapters:21},{name:"Ruth",startFile:233,chapters:4},{name:"1 Samuel",startFile:237,chapters:31},{name:"2 Samuel",startFile:268,chapters:24},{name:"1 Kings",startFile:292,chapters:22},{name:"2 Kings",startFile:314,chapters:25},{name:"1 Chronicles",startFile:339,chapters:29},{name:"2 Chronicles",startFile:368,chapters:36},{name:"Ezra",startFile:404,chapters:10},{name:"Nehemiah",startFile:414,chapters:13},{name:"Esther",startFile:427,chapters:10},{name:"Job",startFile:437,chapters:42},{name:"Psalms",startFile:479,chapters:150},{name:"Proverbs",startFile:629,chapters:31},{name:"Ecclesiastes",startFile:660,chapters:12},{name:"Songs",startFile:672,chapters:8},{name:"Isaiah",startFile:680,chapters:66},{name:"Jeremiah",startFile:746,chapters:52},{name:"Lamentations",startFile:798,chapters:5},{name:"Ezekiel",startFile:803,chapters:48},{name:"Daniel",startFile:851,chapters:12},{name:"Hosea",startFile:863,chapters:14},{name:"Joel",startFile:877,chapters:3},{name:"Amos",startFile:880,chapters:9},{name:"Obadiah",startFile:889,chapters:1},{name:"Jonah",startFile:890,chapters:4},{name:"Micah",startFile:894,chapters:7},{name:"Nahum",startFile:901,chapters:3},{name:"Habakkuk",startFile:904,chapters:3},{name:"Zephaniah",startFile:907,chapters:3},{name:"Haggai",startFile:910,chapters:2},{name:"Zechariah",startFile:912,chapters:14},{name:"Malachi",startFile:926,chapters:4},{name:"Matthew",startFile:930,chapters:28},{name:"Mark",startFile:958,chapters:16},{name:"Luke",startFile:974,chapters:24},{name:"John",startFile:998,chapters:21},{name:"Acts",startFile:1019,chapters:28},{name:"Romans",startFile:1047,chapters:16},{name:"1 Corinthians",startFile:1063,chapters:16},{name:"2 Corinthians",startFile:1079,chapters:13},{name:"Galatians",startFile:1092,chapters:6},{name:"Ephesians",startFile:1098,chapters:6},{name:"Philippians",startFile:1104,chapters:4},{name:"Colossians",startFile:1108,chapters:4},{name:"1 Thessalonians",startFile:1112,chapters:5},{name:"2 Thessalonians",startFile:1117,chapters:3},{name:"1 Timothy",startFile:1120,chapters:6},{name:"2 Timothy",startFile:1126,chapters:4},{name:"Titus",startFile:1130,chapters:3},{name:"Philemon",startFile:1133,chapters:1},{name:"Hebrews",startFile:1134,chapters:13},{name:"James",startFile:1147,chapters:5},{name:"1 Peter",startFile:1152,chapters:5},{name:"2 Peter",startFile:1157,chapters:3},{name:"1 John",startFile:1160,chapters:5},{name:"2 John",startFile:1165,chapters:1},{name:"3 John",startFile:1166,chapters:1},{name:"Jude",startFile:1167,chapters:1},{name:"Revelation",startFile:1168,chapters:22}];var _t=Ie.bind(Ht),rr=()=>{let[t,s]=pt("all"),[o,i]=pt(vt.map(B=>B.name)),[l,r]=pt(3),[h,m]=pt(1),[v,d]=pt(1),[b,n]=pt(1),[p,c]=pt(!1),[_,f]=pt(!1),[y,w]=pt("mixed"),[S,C]=pt(!1),[U,R]=pt(!0),[H,O]=pt(new Date().toISOString().split("T")[0]),[G,q]=pt([1,2,3,4,5,6,0]),[k,I]=pt(""),[a,j]=pt(!1),tt=B=>{i(N=>N.includes(B)?N.filter(Y=>Y!==B):[...N,B])},W=B=>{s("custom");let N=[];if(B==="all"){i(vt.map(Y=>Y.name));return}else if(B==="none"){i([]);return}else B==="gospels"?N=["Matthew","Mark","Luke","John"]:B==="pentateuch"?N=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy"]:B==="history"?N=["Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther"]:B==="wisdom"?N=["Job","Psalms","Proverbs","Ecclesiastes","Songs"]:B==="major-prophets"?N=["Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel"]:B==="minor-prophets"?N=["Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi"]:B==="paul"?N=["Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon"]:B==="general-epistles"&&(N=["Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"]);i(Y=>N.every(J=>Y.includes(J))?Y.filter(J=>!N.includes(J)):[...new Set([...Y,...N])])},rt=B=>{q(N=>N.includes(B)?N.filter(Y=>Y!==B):[...N,B].sort())},$=Yt(()=>{let B=t==="all"?vt:vt.filter(P=>o.includes(P.name));if(B.length===0)return[];let N=B.filter(P=>vt.indexOf(P)<39),Y=B.filter(P=>vt.indexOf(P)>=39),nt=[],J=[],Q=[];N.forEach(P=>{for(let M=1;M<=P.chapters;M++){let Z={book:P.name,chapter:M,file:P.startFile+M-1};P.name==="Psalms"&&p?J.push(Z):P.name==="Proverbs"&&_?Q.push(Z):nt.push(Z)}});let it=[];Y.forEach(P=>{for(let M=1;M<=P.chapters;M++)it.push({book:P.name,chapter:M,file:P.startFile+M-1})});let at=[],lt=new Date(H),ot=0,e=0,D=0,A=0,g=nt.length>0&&l>0?Math.ceil(nt.length/l):0,u=it.length>0&&h>0?Math.ceil(it.length/h):0,x=J.length>0&&v>0?Math.ceil(J.length/v):0,L=Q.length>0&&b>0?Math.ceil(Q.length/b):0,F=y==="mixed"?Math.max(g,u,x,L):g+u+x+L,E=0;for(;E<F;){if(!U||G.includes(lt.getDay())){let P=[];if(y==="mixed"){for(let M=0;M<l;M++)ot<nt.length?P.push(nt[ot++]):S&&nt.length>0&&(P.push(nt[ot%nt.length]),ot++);for(let M=0;M<v;M++)D<J.length?P.push(J[D++]):S&&J.length>0&&(P.push(J[D%J.length]),D++);for(let M=0;M<b;M++)A<Q.length?P.push(Q[A++]):S&&Q.length>0&&(P.push(Q[A%Q.length]),A++);for(let M=0;M<h;M++)e<it.length?P.push(it[e++]):S&&it.length>0&&(P.push(it[e%it.length]),e++)}else{let M=l+h+v+b;for(let Z=0;Z<M;Z++)ot<nt.length?P.push(nt[ot++]):D<J.length?P.push(J[D++]):A<Q.length?P.push(Q[A++]):e<it.length&&P.push(it[e++])}P.length>0&&at.push({date:U?new Date(lt):null,chapters:P}),E++}if(U&&lt.setDate(lt.getDate()+1),at.length>5e3)break}return at},[t,o,l,h,v,b,p,_,y,U,H,G,S]),V=Yt(()=>{let B=$.flatMap(nt=>nt.chapters.map(J=>J.file)),N=new Set(B).size,Y=B.length;return{uniqueChapters:N,totalChapters:Y,downloadSizeMB:N,totalSizeMB:Y}},[$]),T=async()=>{j(!0),I("Starting EPUB generation...");try{let B=new De.default;B.file("mimetype","application/epub+zip",{compression:"STORE"}),B.folder("META-INF").file("container.xml",`<?xml version="1.0"?>
<container version="1.0" xmlns="urn:oasis:names:tc:opendocument:xmlns:container">
  <rootfiles>
    <rootfile full-path="OEBPS/content.opf" media-type="application/oebps-package+xml"/>
  </rootfiles>
</container>`);let Y=B.folder("OEBPS"),nt=Y.folder("Text"),J=await fetch("bsb_unzipped/stylesheet.css").then(F=>F.text()),Q=await fetch("bsb_unzipped/page_styles.css").then(F=>F.text());Y.file("Styles/stylesheet.css",J),Y.file("Styles/page_styles.css",Q);let it=['<item id="ncx" href="toc.ncx" media-type="application/x-dtbncx+xml"/>','<item id="style" href="Styles/stylesheet.css" media-type="text/css"/>','<item id="page-style" href="Styles/page_styles.css" media-type="text/css"/>'],at=[],lt=[],ot=[...new Set($.flatMap(F=>F.chapters.map(E=>E.file)))],e=new Map,D=100;for(let F=0;F<ot.length;F+=D){let E=ot.slice(F,F+D);I(`Pre-fetching chapters ${F+1} to ${Math.min(F+D,ot.length)} of ${ot.length}...`),await Promise.all(E.map(async P=>{let M=await X(P);e.set(P,M)}))}for(let F=0;F<$.length;F++){let E=$[F],P=E.date?E.date.toLocaleDateString():"",M=E.date?`Day ${F+1} - ${P}`:`Day ${F+1}`,Z=`day_${F+1}.xhtml`;I(`Assembling Day ${F+1} of ${$.length}...`);let K=`<h1>${M}</h1>`;K+=`<div class="day-summary" style="page-break-after: always; border-bottom: 2px solid #eee; margin-bottom: 2rem; padding-bottom: 2rem;">
                    <h2>Today's Readings</h2>
                    <ul style="list-style-type: none; padding: 0; font-size: 1.2em;">
                        ${E.chapters.map(et=>`<li style="margin-bottom: 0.5rem;"><strong>${et.book} ${et.chapter}</strong></li>`).join("")}
                    </ul>
                </div>`;for(let et of E.chapters){let ft=e.get(et.file);K+=`<div class="chapter-container">
                        <h2>${et.book} ${et.chapter}</h2>
                        ${ft}
                    </div>`}let st=`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>${M}</title>
<link rel="stylesheet" href="../Styles/stylesheet.css" type="text/css"/>
<link rel="stylesheet" href="../Styles/page_styles.css" type="text/css"/>
</head>
<body>
${K}
</body>
</html>`;nt.file(Z,st),it.push(`<item id="day_${F+1}" href="Text/${Z}" media-type="application/xhtml+xml"/>`),at.push(`<itemref idref="day_${F+1}"/>`),lt.push(`<navPoint id="nav_${F+1}" playOrder="${F+1}">
                    <navLabel><text>${M}</text></navLabel>
                    <content src="Text/${Z}"/>
                </navPoint>`)}let A="credits.xhtml";nt.file(A,`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Credits</title>
<link rel="stylesheet" href="../Styles/stylesheet.css" type="text/css"/>
<link rel="stylesheet" href="../Styles/page_styles.css" type="text/css"/>
</head>
<body>
<h1>Credits</h1>
<p>This Bible reading plan was generated using the <strong>BSB Bible Plan Generator</strong>.</p>
<p>
    <strong>Source Code:</strong> <a href="https://github.com/benkaiser/bsb-plan-generator">https://github.com/benkaiser/bsb-plan-generator</a><br/>
    <strong>Website:</strong> <a href="https://benkaiser.github.io/bsb-plan-generator/">https://benkaiser.github.io/bsb-plan-generator/</a>
</p>
<h2>License Information</h2>
<p>
    <strong>Berean Standard Bible (BSB):</strong> The Berean Standard Bible is public domain. <a href="https://berean.bible/">https://berean.bible/</a>
</p>
</body>
</html>`),it.push(`<item id="credits" href="Text/${A}" media-type="application/xhtml+xml"/>`),at.push('<itemref idref="credits"/>'),lt.push(`<navPoint id="nav_credits" playOrder="${$.length+1}">
                <navLabel><text>Credits</text></navLabel>
                <content src="Text/${A}"/>
            </navPoint>`),Y.file("content.opf",`<?xml version="1.0" encoding="utf-8"?>
<package xmlns="http://www.idpf.org/2007/opf" unique-identifier="uuid_id" version="2.0">
  <metadata xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:opf="http://www.idpf.org/2007/opf">
    <dc:title>Bible Reading Plan</dc:title>
    <dc:language>en</dc:language>
    <dc:identifier id="uuid_id" opf:scheme="uuid">bible-plan-${Date.now()}</dc:identifier>
  </metadata>
  <manifest>
    ${it.join(`
    `)}
  </manifest>
  <spine toc="ncx">
    ${at.join(`
    `)}
  </spine>
</package>`),Y.file("toc.ncx",`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE ncx PUBLIC "-//NISO//DTD ncx 2005-1//EN" "http://www.daisy.org/z3986/2005/ncx-2005-1.dtd">
<ncx xmlns="http://www.daisy.org/2005/ncx/" version="2005-1">
  <head>
    <meta name="dtb:uid" content="bible-plan-${Date.now()}"/>
    <meta name="dtb:depth" content="1"/>
  </head>
  <docTitle><text>Bible Reading Plan</text></docTitle>
  <navMap>
    ${lt.join(`
    `)}
    </navMap>
</ncx>`);let u=await B.generateAsync({type:"blob",mimeType:"application/epub+zip"}),x=URL.createObjectURL(u),L=document.createElement("a");L.href=x,L.download="bible_reading_plan.epub",L.click(),I("EPUB generated successfully!")}catch(B){console.error(B),I("Error generating EPUB: "+B.message)}finally{j(!1)}},z=async()=>{if(!("showDirectoryPicker"in window)){alert("Audiobook generation is only supported in Chrome and Edge. Firefox and Safari do not yet support the necessary File System APIs.");return}let B;try{B=await window.showDirectoryPicker()}catch(N){if(N.name==="AbortError")return;throw N}j(!0),I("Starting Audiobook generation...");try{let N=$.length.toString().length,Y=20,nt=[];$.forEach((u,x)=>{u.chapters.forEach((L,F)=>{nt.push({dayIdx:x,chIdx:F,file:L.file,book:L.book,chapter:L.chapter})})});let J=$.map(u=>new Array(u.chapters.length)),Q=new Array($.length).fill(0),it=0,at=0,lt=null,ot=async()=>{for(;it<nt.length&&!lt;){if(nt[it].dayIdx-at>20){await new Promise(M=>setTimeout(M,500));continue}let{dayIdx:x,chIdx:L,file:F,book:E,chapter:P}=nt[it++];try{let M=await fetch(`audio_processed/${F}.mp3`);if(!M.ok)throw new Error(`Failed to fetch audio for ${E} ${P}`);let Z=await M.blob();J[x][L]=Z,Q[x]++}catch(M){lt=M}}},e=Array.from({length:Y},ot);for(let u=0;u<$.length;u++){for(;Q[u]<$[u].chapters.length&&!lt;)await new Promise(gt=>setTimeout(gt,100));if(lt)throw lt;let x=$[u],F=`Day_${(u+1).toString().padStart(N,"0")}_`,E=".mp3",P=28-F.length-E.length,Z=x.chapters.map(gt=>`${gt.book.substring(0,3)}${gt.chapter}`).join("_").replace(/[^a-z0-9_]/gi,"").substring(0,P),K=`${F}${Z}${E}`;I(`Generating Audiobook: ${u+1} / ${$.length} days...`);let st=new Blob(J[u],{type:"audio/mpeg"}),ft=await(await B.getFileHandle(K,{create:!0})).createWritable({keepExistingData:!1});await ft.write(st),await ft.close(),J[u]=null,at=u}let D=`BSB Bible Reading Plan - Credits

This plan was generated using the BSB Bible Plan Generator.

Source Code: https://github.com/benkaiser/bsb-plan-generator
Website: https://benkaiser.github.io/bsb-plan-generator/

License Information:
- Berean Standard Bible (BSB): The Berean Standard Bible is public domain. https://berean.bible/
- Bible Audio: The audio recording is by Barry Hays and has also been placed in the public domain.
`,g=await(await B.getFileHandle("CREDITS.txt",{create:!0})).createWritable();await g.write(D),await g.close();try{let u=await fetch("img/cover.jpg");if(u.ok){let x=await u.blob(),F=await(await B.getFileHandle("cover.jpg",{create:!0})).createWritable();await F.write(x),await F.close()}}catch(u){console.error("Failed to write cover image",u)}await Promise.all(e),I("Audiobook generated successfully!")}catch(N){console.error(N),I("Error generating audiobook: "+N.message)}finally{j(!1)}},X=async B=>{let N=`bsb_unzipped/bsb - final - 7-18-21/OEBPS/Text/${B}.htm`,nt=await(await fetch(N)).text(),Q=new DOMParser().parseFromString(nt,"text/html");["#topheading",".bsbheading",".cross",".nav","h1"].forEach(ot=>{Q.querySelectorAll(ot).forEach(D=>D.remove())});let at=new XMLSerializer,lt="";for(let ot of Q.body.childNodes)lt+=at.serializeToString(ot);return lt};return _t`
        <div>
            <header style="text-align: center; margin-bottom: 2rem;">
                <h1>BSB Bible Plan Generator</h1>
                <p>Generate custom EPUB reading plans and corresponding daily Audiobooks.</p>
                <p style="max-width: 600px; margin: 0 auto; font-size: 0.9rem; color: var(--muted-color);">
                    The <strong>Berean Standard Bible (BSB)</strong> was chosen for this project because it is a high-quality, modern English translation that has been dedicated to the public domain.
                </p>
            </header>

            <section>
                <h2>1. Reading Selection</h2>
                <div class="grid">
                    <label>
                        <input type="radio" name="selectionMode" value="all" checked=${t==="all"} onChange=${()=>s("all")} />
                        Whole Bible
                    </label>
                    <label>
                        <input type="radio" name="selectionMode" value="custom" checked=${t==="custom"} onChange=${()=>s("custom")} />
                        Custom Selection
                    </label>
                </div>

                ${t==="custom"&&_t`
                    <div>
                        <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem; border-bottom: 1px solid var(--muted-border-color); padding-bottom: 1rem;">
                            <button type="button" class="outline secondary" style="padding: 0.25rem 0.75rem; font-size: 0.8rem; margin-bottom: 0; width: auto;" onClick=${()=>W("all")}>Select All</button>
                            <button type="button" class="outline secondary" style="padding: 0.25rem 0.75rem; font-size: 0.8rem; margin-bottom: 0; width: auto;" onClick=${()=>W("none")}>Select None</button>
                        </div>
                        <div class="grid" style="grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 0.5rem; margin-bottom: 1rem;">
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>W("pentateuch")}>Pentateuch</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>W("history")}>History</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>W("wisdom")}>Wisdom</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>W("major-prophets")}>Major Prophets</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>W("minor-prophets")}>Minor Prophets</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>W("gospels")}>Gospels</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>W("paul")}>Paul's Letters</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>W("general-epistles")}>General Epistles</button>
                        </div>
                        <div class="book-selection">
                            ${vt.map(B=>_t`
                                <label class="book-item">
                                    <input type="checkbox" checked=${o.includes(B.name)} onChange=${()=>tt(B.name)} />
                                    ${B.name}
                                </label>
                            `)}
                        </div>
                    </div>
                `}

                <div class="grid">
                    <label>OT Chapters per day:
                        <input type="number" value=${l} onInput=${B=>r(parseInt(B.target.value)||0)} min="0" />
                    </label>
                    <label>NT Chapters per day:
                        <input type="number" value=${h} onInput=${B=>m(parseInt(B.target.value)||0)} min="0" />
                    </label>
                    ${p&&_t`
                        <label>Psalms per day:
                            <input type="number" value=${v} onInput=${B=>d(parseInt(B.target.value)||0)} min="1" />
                        </label>
                    `}
                    ${_&&_t`
                        <label>Proverbs per day:
                            <input type="number" value=${b} onInput=${B=>n(parseInt(B.target.value)||0)} min="1" />
                        </label>
                    `}
                </div>

                <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                    <button type="button" class="${p?"":"outline"}" onClick=${()=>c(!p)}>
                        ${p?"\u2713 Psalms Split Out":"Split out Psalms"}
                    </button>
                    <button type="button" class="${_?"":"outline"}" onClick=${()=>f(!_)}>
                        ${_?"\u2713 Proverbs Split Out":"Split out Proverbs"}
                    </button>
                </div>
            </section>

            <section>
                <h2>2. Plan Style</h2>
                <div class="grid" style="align-items: end;">
                    <label>Order:
                        <select value=${y} onChange=${B=>w(B.target.value)}>
                            <option value="mixed">Mixed (OT and NT together)</option>
                            <option value="sequential">Sequential (OT then NT)</option>
                        </select>
                    </label>
                    <div style="margin-bottom: var(--spacing);">
                        <label>
                            <input type="checkbox" checked=${U} onChange=${B=>R(B.target.checked)} />
                            Use Dates
                        </label>
                    </div>
                </div>

                ${y==="mixed"&&_t`
                    <div style="margin-bottom: var(--spacing); padding: 1rem; border: 1px solid var(--muted-border-color); border-radius: var(--border-radius);">
                        <label style="margin-bottom: 0.5rem;">
                            <input type="checkbox" checked=${S} onChange=${B=>C(B.target.checked)} />
                            Repeat shorter section to keep daily mix
                        </label>
                        <small style="display: block; margin-left: 2rem; color: var(--muted-color); line-height: 1.4;">
                            If one part of the Bible (like the New Testament) is finished before the other,
                            it will start over from the beginning so you always have both OT and NT readings every day.
                        </small>
                    </div>
                `}

                ${U&&_t`
                    <div class="grid">
                        <label>Start Date:
                            <input type="date" value=${H} onChange=${B=>O(B.target.value)} />
                        </label>
                        <div>
                            <label>Reading Days:</label>
                            <div class="day-selection">
                                ${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((B,N)=>_t`
                                    <label class="day-item">
                                        <input type="checkbox" checked=${G.includes(N)} onChange=${()=>rt(N)} />
                                        ${B}
                                    </label>
                                `)}
                            </div>
                        </div>
                    </div>
                `}
            </section>

            <section>
                <h2>3. Generate Plan</h2>
                <p>${$.length} days total</p>
                <div style="max-height: 400px; overflow-y: auto; border: 1px solid var(--muted-border-color); padding: 1rem; margin-bottom: 1rem; border-radius: var(--border-radius);">
                    ${$.slice(0,5).map((B,N)=>_t`
                        <div class="preview-item">
                            <span class="preview-date">${B.date?B.date.toLocaleDateString():`Day ${N+1}`}</span>
                            <span>${B.chapters.map(Y=>`${Y.book} ${Y.chapter}`).join(", ")}</span>
                        </div>
                    `)}

                    ${$.length>10?_t`
                        <div style="text-align: center; padding: 1rem; color: var(--muted-color); border-bottom: 1px solid var(--muted-border-color);">
                            ... ${$.length-10} days omitted ...
                        </div>
                        ${$.slice(-5).map((B,N)=>_t`
                            <div class="preview-item">
                                <span class="preview-date">${B.date?B.date.toLocaleDateString():`Day ${$.length-4+N}`}</span>
                                <span>${B.chapters.map(Y=>`${Y.book} ${Y.chapter}`).join(", ")}</span>
                            </div>
                        `)}
                    `:$.slice(5).map((B,N)=>_t`
                        <div class="preview-item">
                            <span class="preview-date">${B.date?B.date.toLocaleDateString():`Day ${6+N}`}</span>
                            <span>${B.chapters.map(Y=>`${Y.book} ${Y.chapter}`).join(", ")}</span>
                        </div>
                    `)}
                </div>
                <div style="display: flex; flex-direction: column; gap: 1rem; margin-top: 1rem;">
                    <div style="display: flex; gap: 1rem; align-items: center;">
                        <button onClick=${T} disabled=${a||$.length===0}>
                            ${a?"Generating...":"Download EPUB"}
                        </button>
                        <button onClick=${z} disabled=${a||$.length===0} class="secondary">
                            ${a?"Generating...":"Generate Audiobook"}
                        </button>
                    </div>

                    ${$.length>0&&_t`
                        <div style="background: var(--card-section-background-color); padding: 1rem; border-radius: var(--border-radius); border: 1px solid var(--muted-border-color);">
                            <p style="margin: 0;"><strong>Audiobook Info:</strong></p>
                            <ul style="margin: 0.5rem 0 0 0; padding-left: 1.5rem; font-size: 0.9rem;">
                                <li>Estimated: ${V.downloadSizeMB}MB download, ${V.totalSizeMB}MB total on disk.</li>
                                <li>Requires a folder selection to save daily MP3 files.</li>
                                <li style="color: var(--secondary);">Note: Audiobook generation is only supported in <strong>Chrome</strong> and <strong>Edge</strong>.</li>
                            </ul>
                        </div>
                    `}
                </div>
                ${k&&_t`<p style="margin-top: 1rem;"><small>${k}</small></p>`}
            </section>
        </div>
    `};me(_t`<${rr} />`,document.getElementById("app"));})();
/*! Bundled license information:

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)
*/
